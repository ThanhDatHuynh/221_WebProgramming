{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\EditDishPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\EditDishPage.vue","mtime":1655541372414},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRm9ybSBmcm9tICIuLi9jb21wb25lbnRzL0Zvcm0udnVlIjsNCmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOw0KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsNCmltcG9ydCBNb2RhbENvbmZpcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Nb2RhbENvbmZpcm0udnVlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiRWRpdERpc2hQYWdlIiwNCiAgY29tcG9uZW50czogeyBGb3JtLCBNb2RhbENvbmZpcm0gfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNGb3JtU3VibWl0ZWQ6IGZhbHNlLA0KICAgICAgY3VycmVudERpc2hJZDogbnVsbCwNCiAgICAgIGlzQ3JlYXRlRGlzaE1vZGFsT3BlbjogZmFsc2UsDQogICAgICBpc0VkaXREaXNoTW9kYWxPcGVuOiBmYWxzZSwNCiAgICAgIGZvcm1EYXRhOiB7DQogICAgICAgIC8vIFZ1ZSBPYmplY3QgRGF0YSB3aWxsIGJlIGNvbnZlcnQgaW50byBPYnNlcnZlcg0KICAgICAgICBkaXNoSWQ6ICJUaGlzIGZpZWxkIGlzIG9taXR0ZWQgd2hlbiBjcmVhdGluZyBuZXcgZGlzaCIsDQogICAgICAgIGltYWdlVXJsOiAiIiwNCiAgICAgICAgZGlzaFRpdGxlOiAiIiwNCiAgICAgICAgZGlzaERlc2NyaXB0aW9uOiAiIiwNCiAgICAgICAgZGlzaFByaWNlOiAiIg0KICAgICAgfSwNCiAgICAgIGVycm9yTWVzc2FnZXM6IHsNCiAgICAgICAgZGlzaElkOiAiIiwNCiAgICAgICAgaW1hZ2VVcmw6ICIiLA0KICAgICAgICBkaXNoVGl0bGU6ICIiLA0KICAgICAgICBkaXNoRGVzY3JpcHRpb246ICIiLA0KICAgICAgICBkaXNoUHJpY2U6ICIiDQogICAgICB9LA0KDQogICAgICAvLyBBZGQgZmllbGQgd2l0aCBuYW1lIGluIGVycm9yTWVzc2FnZXMgZm9yIG90aGVycycgdmFsaWRhdGlvbg0KICAgICAgc2NoZW1hOiB5dXAub2JqZWN0KCkuc2hhcGUoew0KICAgICAgICBkaXNoSWQ6IHl1cC5zdHJpbmcoKSwNCiAgICAgICAgaW1hZ2VVcmw6IHl1cC5zdHJpbmcoKS51cmwoKS5taW4oMSkubGFiZWwoIkltYWdlIFVSTCIpLA0KICAgICAgICBkaXNoVGl0bGU6IHl1cC5zdHJpbmcoKS5taW4oMSkubGFiZWwoIlRpdGFsIiksDQogICAgICAgIGRpc2hQcmljZTogeXVwLnN0cmluZygpLm1pbigxKS5sYWJlbCgiUHJpY2UiKQ0KICAgICAgfSksDQogICAgfTsNCiAgfSwNCiAgYmVmb3JlTW91bnQoKSB7DQogICAgdGhpcy5jdXJyZW50RGlzaElkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KICAgIGlmICh0aGlzLmN1cnJlbnREaXNoSWQpIHsNCiAgICAgIHRoaXMuR2V0RGlzaERhdGEoKTsNCiAgICB9DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIHRvZ2dsZU1vZGFsT3Blbih0eXBlKSB7DQogICAgICBpZiAodHlwZSA9PT0gImNyZWF0ZURpc2giKSB7DQogICAgICAgIHRoaXMuaXNDcmVhdGVEaXNoTW9kYWxPcGVuID0gIXRoaXMuaXNDcmVhdGVEaXNoTW9kYWxPcGVuOw0KICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiZWRpdERpc2giKSB7DQogICAgICAgIHRoaXMuaXNFZGl0RGlzaE1vZGFsT3BlbiA9ICF0aGlzLmlzRWRpdERpc2hNb2RhbE9wZW47DQogICAgICB9DQogICAgfSwNCg0KICAgIEdldERpc2hEYXRhKCkgew0KICAgICAgdmFyIHNldHRpbmdzID0gew0KICAgICAgICB1cmw6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTH0vbWVudS97JHt0aGlzLmN1cnJlbnREaXNoSWR9fWAsDQogICAgICAgIG1ldGhvZDogIkdFVCIsDQogICAgICAgIHRpbWVvdXQ6IDAsDQogICAgICAgIGRhdGE6IHt9LA0KICAgICAgICBoZWFkZXJzOiB7fSwNCiAgICAgIH07DQoNCiAgICAgICQuYWpheChzZXR0aW5ncykudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgICAgY29uc3QgZGlzaCA9IHJlc3BvbnNlLnJlc3BvbnNlOw0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuZGlzaElkID0gdGhpcy5jdXJyZW50RGlzaElkOw0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuaW1hZ2VVcmwgPSBkaXNoLmltYWdlOw0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuZGlzaFRpdGxlID0gZGlzaC5uYW1lOw0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuZGlzaERlc2NyaXB0aW9uID0gZGlzaC5kZXNjcmlwdGlvbjsNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhLmRpc2hQcmljZSA9IGRpc2gucHJpY2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQoIkNhbm5vdCBnZXQgZGlzaCB0byBlZGl0Iik7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBhc3luYyBoYW5kbGVJbnB1dFZhbGlkYXRpb24oeyBuYW1lLCB2YWx1ZSB9KSB7DQogICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHRoaXMuc2NoZW1hDQogICAgICAgIC52YWxpZGF0ZSh7IFtuYW1lXTogdmFsdWUgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHJldHVybiBlcnJvcjsNCiAgICAgICAgfSk7DQogICAgICBpZiAodmFsaWRhdGlvblJlc3VsdC5lcnJvcnMpIHsNCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VzW25hbWVdID0gdmFsaWRhdGlvblJlc3VsdC5lcnJvcnNbMF07DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlc1tuYW1lXSA9ICIiOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaGFuZGxlRm9ybUNoYW5nZShuZXdEYXRhKSB7DQogICAgICB0aGlzLmZvcm1EYXRhW25ld0RhdGEubmFtZV0gPSBuZXdEYXRhLnZhbHVlOw0KICAgICAgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24obmV3RGF0YSk7DQogICAgfSwNCg0KICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHsNCiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOw0KICAgICAgbGV0IGRpc2hJZE9LID0gYXdhaXQgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24oe25hbWU6ICJkaXNoSWQiLCB2YWx1ZTogX190aGlzLmZvcm1EYXRhLmRpc2hJZH0pOw0KICAgICAgbGV0IGltYWdlVXJsT0sgPSBhd2FpdCB0aGlzLmhhbmRsZUlucHV0VmFsaWRhdGlvbih7bmFtZTogImltYWdlVXJsIiwgdmFsdWU6IF9fdGhpcy5mb3JtRGF0YS5pbWFnZVVybH0pOw0KICAgICAgbGV0IGRpc2hUaXRsZU9LID0gYXdhaXQgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24oe25hbWU6ICJkaXNoVGl0bGUiLCB2YWx1ZTogX190aGlzLmZvcm1EYXRhLmRpc2hUaXRsZX0pOw0KICAgICAgbGV0IGRpc2hQcmljZU9LID0gYXdhaXQgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24oe25hbWU6ICJkaXNoUHJpY2UiLCB2YWx1ZTogX190aGlzLmZvcm1EYXRhLmRpc2hQcmljZX0pOw0KICAgICAgaWYgKCFkaXNoSWRPSyB8fCAhaW1hZ2VVcmxPSyB8fCAhZGlzaFRpdGxlT0sgfHwgIWRpc2hQcmljZU9LKSB7DQogICAgICAgIHRoaXMudG9nZ2xlTW9kYWxPcGVuKCJjcmVhdGVEaXNoIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgDQogICAgICBjb25zdCBmb3JtRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtRGF0YSkpOw0KDQogICAgICBjb25zdCBVc2VyVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIik7DQogICAgICBpZiAoVXNlclRva2VuID09PSAiIikgew0KICAgICAgICBhbGVydCgiUGxlYXNlIGxvZ2luIGFkbWluIGFjY291bnQgYmVmb3JlIHRvIGVkaXQgb3IgY3JlYXRlIGRpc2giKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmlzRm9ybVN1Ym1pdGVkID0gdHJ1ZTsNCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09PSAiYWRtaW5DcmVhdGVEaXNoIikgew0KICAgICAgICAvKioNCiAgICAgICAgICogSGFuZGxlIEVkaXQgUHJvZmlsZQ0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy50b2dnbGVNb2RhbE9wZW4oImNyZWF0ZURpc2giKTsNCiAgICAgICAgbGV0IHNldHRpbmdzID0gew0KICAgICAgICAgIHVybDogYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMfS9hZG1pbi9jcmVhdGVfZGlzaGAsDQogICAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgICAgdGltZW91dDogMCwNCiAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBpbWFnZTogZm9ybURhdGEuaW1hZ2VVcmwsDQogICAgICAgICAgICBuYW1lOiBmb3JtRGF0YS5kaXNoVGl0bGUsDQogICAgICAgICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGEuZGlzaERlc2NyaXB0aW9uLA0KICAgICAgICAgICAgcHJpY2U6IGZvcm1EYXRhLmRpc2hQcmljZQ0KICAgICAgICAgIH0sDQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgIkJlYXItVG9rZW4iOiBVc2VyVG9rZW4sDQogICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9ICJZb3VyIERpc2ggSGF2ZSBCZWVuIENyZWF0ZWQiOw0KICAgICAgICAgICAgX190aGlzLiRyb3V0ZXIucmVwbGFjZSh7IG5hbWU6ICJhZG1pbk1lbnUiIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9IHJlc3BvbnNlLm1lc3NhZ2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUubmFtZSA9PT0gImFkbWluRWRpdERpc2giKSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBIYW5kbGUgRWRpdCBQYXNzd29yZA0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy50b2dnbGVNb2RhbE9wZW4oImVkaXREaXNoIik7DQogICAgICAgIGxldCBzZXR0aW5ncyA9IHsNCiAgICAgICAgICB1cmw6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTH0vYWRtaW4vdXBkYXRlX2Rpc2gveyR7dGhpcy5jdXJyZW50RGlzaElkfX1gLA0KICAgICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICAgIHRpbWVvdXQ6IDAsDQogICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgaW1hZ2U6IGZvcm1EYXRhLmltYWdlVXJsLA0KICAgICAgICAgICAgbmFtZTogZm9ybURhdGEuZGlzaFRpdGxlLA0KICAgICAgICAgICAgZGVzY3JpcHRpb246IGZvcm1EYXRhLmRpc2hEZXNjcmlwdGlvbiwNCiAgICAgICAgICAgIHByaWNlOiBmb3JtRGF0YS5kaXNoUHJpY2UNCiAgICAgICAgICB9LA0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICJCZWFyLVRva2VuIjogVXNlclRva2VuLA0KICAgICAgICAgIH0sDQogICAgICAgIH07DQogICAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9ICJZb3VyIERpc2ggSGF2ZSBCZWVuIEVkaXRlZCI7DQogICAgICAgICAgICBfX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogImFkbWluTWVudSIgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIF9fdGhpcy4kcmVmcy5ub3RlVGl0bGUuaW5uZXJIVE1MID0gcmVzcG9uc2UubWVzc2FnZTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["EditDishPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditDishPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"edit-dish-wrapper\">\r\n    <ModalConfirm @toggleModalEvent=\"toggleModalOpen('createDish')\" :isOpen=\"this.isCreateDishModalOpen\"\r\n      :title=\"'Create Dish Confirm'\" :content=\"'You are about to create new dish'\" @callbackEvent=\"handleSubmit\" />\r\n    <ModalConfirm @toggleModalEvent=\"toggleModalOpen('editDish')\" :isOpen=\"this.isEditDishModalOpen\"\r\n      :title=\"'Edit Dish Confirm'\" :content=\"'You are about to edit your dish'\" @callbackEvent=\"handleSubmit\" />\r\n    <div class=\"reservation-title\">\r\n      <p>Create/Edit Dish</p>\r\n    </div>\r\n    <div class=\"form-wrapper\">\r\n      <Form :type=\"'EditDish'\" :data=\"formData\" :errorMessages=\"errorMessages\" @onFormChange=\"handleFormChange\"\r\n        @onSubmit=\"\r\n          $route.name === 'adminCreateDish'\r\n            ? toggleModalOpen('createDish')\r\n            : toggleModalOpen('editDish')\r\n        \" />\r\n      <div v-show=\"isFormSubmited\" class=\"reservation-note\" ref=\"note\">\r\n        <div ref=\"noteTitle\" class=\"note-title\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Form from \"../components/Form.vue\";\r\nimport * as yup from \"yup\";\r\nimport $ from \"jquery\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\n\r\nexport default {\r\n  name: \"EditDishPage\",\r\n  components: { Form, ModalConfirm },\r\n  data() {\r\n    return {\r\n      isFormSubmited: false,\r\n      currentDishId: null,\r\n      isCreateDishModalOpen: false,\r\n      isEditDishModalOpen: false,\r\n      formData: {\r\n        // Vue Object Data will be convert into Observer\r\n        dishId: \"This field is omitted when creating new dish\",\r\n        imageUrl: \"\",\r\n        dishTitle: \"\",\r\n        dishDescription: \"\",\r\n        dishPrice: \"\"\r\n      },\r\n      errorMessages: {\r\n        dishId: \"\",\r\n        imageUrl: \"\",\r\n        dishTitle: \"\",\r\n        dishDescription: \"\",\r\n        dishPrice: \"\"\r\n      },\r\n\r\n      // Add field with name in errorMessages for others' validation\r\n      schema: yup.object().shape({\r\n        dishId: yup.string(),\r\n        imageUrl: yup.string().url().min(1).label(\"Image URL\"),\r\n        dishTitle: yup.string().min(1).label(\"Tital\"),\r\n        dishPrice: yup.string().min(1).label(\"Price\")\r\n      }),\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.currentDishId = this.$route.params.id;\r\n    if (this.currentDishId) {\r\n      this.GetDishData();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    toggleModalOpen(type) {\r\n      if (type === \"createDish\") {\r\n        this.isCreateDishModalOpen = !this.isCreateDishModalOpen;\r\n      } else if (type === \"editDish\") {\r\n        this.isEditDishModalOpen = !this.isEditDishModalOpen;\r\n      }\r\n    },\r\n\r\n    GetDishData() {\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/menu/{${this.currentDishId}}`,\r\n        method: \"GET\",\r\n        timeout: 0,\r\n        data: {},\r\n        headers: {},\r\n      };\r\n\r\n      $.ajax(settings).then((response) => {\r\n        response = JSON.parse(response);\r\n        if (response.status === 200) {\r\n          const dish = response.response;\r\n          this.formData.dishId = this.currentDishId;\r\n          this.formData.imageUrl = dish.image;\r\n          this.formData.dishTitle = dish.name;\r\n          this.formData.dishDescription = dish.description;\r\n          this.formData.dishPrice = dish.price;\r\n        } else {\r\n          alert(\"Cannot get dish to edit\");\r\n        }\r\n      });\r\n    },\r\n\r\n    async handleInputValidation({ name, value }) {\r\n      let validationResult = await this.schema\r\n        .validate({ [name]: value })\r\n        .catch((error) => {\r\n          return error;\r\n        });\r\n      if (validationResult.errors) {\r\n        this.errorMessages[name] = validationResult.errors[0];\r\n        return false;\r\n      } else {\r\n        this.errorMessages[name] = \"\";\r\n        return true;\r\n      }\r\n    },\r\n\r\n    handleFormChange(newData) {\r\n      this.formData[newData.name] = newData.value;\r\n      this.handleInputValidation(newData);\r\n    },\r\n\r\n    async handleSubmit() {\r\n      var __this = this;\r\n      let dishIdOK = await this.handleInputValidation({name: \"dishId\", value: __this.formData.dishId});\r\n      let imageUrlOK = await this.handleInputValidation({name: \"imageUrl\", value: __this.formData.imageUrl});\r\n      let dishTitleOK = await this.handleInputValidation({name: \"dishTitle\", value: __this.formData.dishTitle});\r\n      let dishPriceOK = await this.handleInputValidation({name: \"dishPrice\", value: __this.formData.dishPrice});\r\n      if (!dishIdOK || !imageUrlOK || !dishTitleOK || !dishPriceOK) {\r\n        this.toggleModalOpen(\"createDish\");\r\n        return;\r\n      }\r\n      \r\n      \r\n      const formData = JSON.parse(JSON.stringify(this.formData));\r\n\r\n      const UserToken = localStorage.getItem(\"UserToken\");\r\n      if (UserToken === \"\") {\r\n        alert(\"Please login admin account before to edit or create dish\");\r\n        return;\r\n      }\r\n\r\n      this.isFormSubmited = true;\r\n      if (this.$route.name === \"adminCreateDish\") {\r\n        /**\r\n         * Handle Edit Profile\r\n         */\r\n        this.toggleModalOpen(\"createDish\");\r\n        let settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/admin/create_dish`,\r\n          method: \"post\",\r\n          timeout: 0,\r\n          data: {\r\n            image: formData.imageUrl,\r\n            name: formData.dishTitle,\r\n            description: formData.dishDescription,\r\n            price: formData.dishPrice\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": UserToken,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function (response) {\r\n          console.log(response);\r\n          response = JSON.parse(response);\r\n          if (response.status == 200) {\r\n            __this.$refs.noteTitle.innerHTML = \"Your Dish Have Been Created\";\r\n            __this.$router.replace({ name: \"adminMenu\" });\r\n          } else {\r\n            __this.$refs.noteTitle.innerHTML = response.message;\r\n          }\r\n        });\r\n      } else if (this.$route.name === \"adminEditDish\") {\r\n        /**\r\n         * Handle Edit Password\r\n         */\r\n        this.toggleModalOpen(\"editDish\");\r\n        let settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/admin/update_dish/{${this.currentDishId}}`,\r\n          method: \"post\",\r\n          timeout: 0,\r\n          data: {\r\n            image: formData.imageUrl,\r\n            name: formData.dishTitle,\r\n            description: formData.dishDescription,\r\n            price: formData.dishPrice\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": UserToken,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function (response) {\r\n          response = JSON.parse(response);\r\n          if (response.status == 200) {\r\n            __this.$refs.noteTitle.innerHTML = \"Your Dish Have Been Edited\";\r\n            __this.$router.replace({ name: \"adminMenu\" });\r\n          } else {\r\n            __this.$refs.noteTitle.innerHTML = response.message;\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-dish-wrapper {\r\n  margin: 50px 0 50px 0;\r\n}\r\n\r\n.reservation-title {\r\n  font-family: Oleo Script Swash Caps;\r\n  text-align: center;\r\n  font-size: 500%;\r\n  margin: 0px 0px 50px 0px;\r\n}\r\n\r\n.reservation-note {\r\n  margin: 20px auto;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  background-color: #ededed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.reservation-note>* {\r\n  width: 100%;\r\n}\r\n\r\n.note-title {\r\n  font-family: Roboto, 'san-serif';\r\n  text-align: center;\r\n  font-size: 200%;\r\n  margin: 20px 0 20px 0;\r\n}\r\n\r\n.form-wrapper {\r\n  width: 50%;\r\n  margin: auto;\r\n}\r\n\r\n@media screen and (max-width: 1700px) {\r\n  .form-wrapper {\r\n    width: 60%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1400px) {\r\n  .form-wrapper {\r\n    width: 70%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1000px) {\r\n  .form-wrapper {\r\n    width: 80%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 700px) {\r\n  .form-wrapper {\r\n    width: 90%;\r\n  }\r\n}\r\n</style>\r\n"]}]}
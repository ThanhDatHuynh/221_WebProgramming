{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\AdminMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\AdminMenu.vue","mtime":1655541372412},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJCBmcm9tICJqcXVlcnkiOw0KaW1wb3J0IEFkbWluSXRlbSBmcm9tICIuLi9jb21wb25lbnRzL0FkbWluSXRlbS52dWUiOw0KaW1wb3J0IE1vZGFsQ29uZmlybSBmcm9tICIuLi9jb21wb25lbnRzL01vZGFsQ29uZmlybS52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiYWRtaW5NZW51IiwNCiAgY29tcG9uZW50czogew0KICAgIEFkbWluSXRlbSwNCiAgICBNb2RhbENvbmZpcm0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzRGVsZXRlTW9kYWxPcGVuOiBmYWxzZSwNCiAgICAgIGlkRGlzaDogMCwNCiAgICAgIGRpc2hlczogW10sDQogICAgICBwYWdlOiAxLA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBtb2RlbFBhZ2U6IHsNCiAgICAgIGdldCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucGFnZTsNCiAgICAgIH0sDQogICAgICBzZXQodmFsdWUpIHsNCiAgICAgICAgdGhpcy5wYWdlID0gdmFsdWU7DQogICAgICB9LA0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyByZWxvYWRQYWdlKCkgew0KICAgIC8vICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KICAgIC8vICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hZG1pbi9tZW51Iik7DQogICAgLy8gfSwNCiAgICB0b2dnbGVBZGRCdG4oKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJhZG1pblVzZXIiIH0pOw0KICAgIH0sDQoNCiAgICB0b2dnbGVEZWxldGVCdG4oaWQpIHsNCiAgICAgIHRoaXMuaXNEZWxldGVNb2RhbE9wZW4gPSAhdGhpcy5pc0RlbGV0ZU1vZGFsT3BlbjsNCiAgICAgIHRoaXMuaWREaXNoID0gaWQ7DQogICAgfSwNCg0KICAgIGRlbGV0ZURpc2goKSB7DQogICAgICAvLyB2YXIgX190aGlzID0gdGhpczsNCiAgICAgIHZhciBzZXR0aW5ncyA9IHsNCiAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkx9L2FkbWluL2RlbGV0ZV9kaXNoL3ske3RoaXMuaWREaXNofX1gLA0KICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgdGltZW91dDogMCwNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICJCZWFyLVRva2VuIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpLA0KICAgICAgICB9LA0KICAgICAgfTsNCg0KICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKHRoaXMuJHJvdXRlci5jdXJyZW50KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBnZXRNZW51KCkgew0KICAgICAgY29uc3QgX190aGlzID0gdGhpczsNCiAgICAgIHZhciBzZXR0aW5ncyA9IHsNCiAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkx9L21lbnVgLA0KICAgICAgICBtZXRob2Q6ICJHRVQiLA0KICAgICAgICB0aW1lb3V0OiAwLA0KICAgICAgfTsNCg0KICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICBjb25zdCBhID0gSlNPTi5wYXJzZShyZXNwb25zZSkucmVzcG9uc2U7DQogICAgICAgIF9fdGhpcy5kaXNoZXMgPSBhOw0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgYmVmb3JlTW91bnQoKSB7DQogICAgdGhpcy5nZXRNZW51KCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["AdminMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminMenu.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div style=\"min-height:65vh\">\r\n    <div class=\"d-flex flex-wrap justify-center\">\r\n      <AdminItem type=\"DishHeader\" :width=\"'95vw'\" :height=\"'100px'\" :imgSize=\"'70px'\"\r\n        :items=\"['ID', 'Name', 'Image', 'Description', 'Price']\" @onSubmit=\"toggleAddBtn\" to=\"/admin/user\" />\r\n    </div>\r\n    <div class=\"d-flex flex-wrap justify-center\">\r\n      <div v-for=\"dish in dishes.filter(\r\n        (_, index) => index >= (page - 1) * 5 && index <= page * 5 - 1\r\n      )\" :key=\"dish.id\">\r\n        <AdminItem type=\"Dish\" :width=\"'95vw'\" :height=\"'100px'\" :imgSize=\"'70px'\"\r\n          :items=\"[dish.id, dish.name, dish.image, dish.description, dish.price]\"\r\n          @onSubmit=\"toggleDeleteBtn(dish.id)\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"text-center\">\r\n      <v-pagination class=\"mt-4 mb-8\" v-model=\"modelPage\" color=\"#e1651f\" :length=\"\r\n        dishes.length % 5 === 0\r\n          ? Math.floor(dishes.length / 5)\r\n          : Math.floor(dishes.length / 5) + 1\r\n      \" circle></v-pagination>\r\n    </div>\r\n    <ModalConfirm @toggleModalEvent=\"toggleDeleteBtn()\" :isOpen=\"this.isDeleteModalOpen\" :title=\"'Are you sure ?'\"\r\n      :content=\"'Do you want to delete this dish ?'\" @callbackEvent=\"deleteDish\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport AdminItem from \"../components/AdminItem.vue\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\nexport default {\r\n  name: \"adminMenu\",\r\n  components: {\r\n    AdminItem,\r\n    ModalConfirm,\r\n  },\r\n  data() {\r\n    return {\r\n      isDeleteModalOpen: false,\r\n      idDish: 0,\r\n      dishes: [],\r\n      page: 1,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    modelPage: {\r\n      get() {\r\n        return this.page;\r\n      },\r\n      set(value) {\r\n        this.page = value;\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    // reloadPage() {\r\n    //   window.location.reload();\r\n    //   window.location.replace(\"http://localhost:8080/admin/menu\");\r\n    // },\r\n    toggleAddBtn() {\r\n      this.$router.push({ name: \"adminUser\" });\r\n    },\r\n\r\n    toggleDeleteBtn(id) {\r\n      this.isDeleteModalOpen = !this.isDeleteModalOpen;\r\n      this.idDish = id;\r\n    },\r\n\r\n    deleteDish() {\r\n      // var __this = this;\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/admin/delete_dish/{${this.idDish}}`,\r\n        method: \"POST\",\r\n        timeout: 0,\r\n        headers: {\r\n          \"Bear-Token\": localStorage.getItem(\"UserToken\"),\r\n        },\r\n      };\r\n\r\n      $.ajax(settings).done(() => {\r\n        this.$router.go(this.$router.current);\r\n      });\r\n    },\r\n\r\n    getMenu() {\r\n      const __this = this;\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/menu`,\r\n        method: \"GET\",\r\n        timeout: 0,\r\n      };\r\n\r\n      $.ajax(settings).done(function (response) {\r\n        const a = JSON.parse(response).response;\r\n        __this.dishes = a;\r\n      });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.getMenu();\r\n  },\r\n};\r\n</script>\r\n"]}]}
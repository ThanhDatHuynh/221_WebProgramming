{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\CartPage.vue?vue&type=style&index=0&id=2697ca68&scoped=true&lang=css&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\CartPage.vue","mtime":1655541372413},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655541768209},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655541769422},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1655541769225},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCB1cmwoImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9T2xlbytTY3JpcHQrU3dhc2grQ2FwcyZkaXNwbGF5PXN3YXAiKTsNCkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVJvYm90bzp3Z2h0QDMwMCZkaXNwbGF5PXN3YXAnKTsNCg0KYnV0dG9uIHsNCiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEuNXM7DQogICAgLyogQW5pbWF0aW9uICovDQp9DQoNCmJ1dHRvbjpob3ZlciB7DQogICAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpOw0KICAgIC8qICgxNTAlIHpvb20gLSBOb3RlOiBpZiB0aGUgem9vbSBpcyB0b28gbGFyZ2UsIGl0IHdpbGwgZ28gb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQpICovDQp9DQoNCi50aXRsZS13cmFwcGVyIHsNCiAgICBtYXJnaW4tYm90dG9tOiA0JTsNCn0NCg0KLm1lbnUtdGl0bGUgew0KICAgIGZvbnQtZmFtaWx5OiBPbGVvIFNjcmlwdCBTd2FzaCBDYXBzOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXNpemU6IDUwMCU7DQogICAgbWFyZ2luOiAyJSAwJSAtMSUgMCU7DQp9DQoNCi5tZW51LWRlc2NyaXB0aW9uIHsNCiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7DQogICAgLypmb250LWZhbWlseTogJ0hhaG1sZXQnOyovDQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIG1hcmdpbjogMCUgOCUgLTElIDglOw0KfQ0KDQouYnRuLXdyYXBwZXIgew0KICAgIG1hcmdpbjogMjVweCAwIDY1cHggMDsNCn0NCg=="},{"version":3,"sources":["CartPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CartPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div class=\"container\" style=\"min-height:60vh\">\r\n        <div class=\"title-wrapper\">\r\n            <div class=\"menu-title\">\r\n                <p>Your Cart</p>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"data.length > 0\">\r\n            <div>\r\n                <div v-for=\"food in this.data\" :key=\"food.id\" class=\"row align-items-center justify-center rounded\"\r\n                    :v-show=\"cart[food.id] && cart[food.id] >= 0\" style=\"background-color:#f2f2f2; margin:5px\">\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.name }}</div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\"><img :src=\"food.image\"\r\n                            style=\"max-width:100px; border-radius:5px\" /></div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        <button @click=\"() => decrFoodQuantity(food.id)\">\r\n                            <font-awesome-icon icon=\"fa-solid fa-circle-minus\" />\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        {{ cart[food.id] }}\r\n                    </div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        <button @click=\"() => incrFoodQuantity(food.id)\">\r\n                            <font-awesome-icon icon=\"fa-solid fa-circle-plus\" />\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.price *\r\n                    cart[food.id]\r\n                    }} $</div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"row align-items-center justify-center rounded\" style=\"background-color:#f2f2f2; margin:5px\">\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">Total:\r\n                    </div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">{{\r\n                    data.reduce((result,\r\n                    food) => result + (food.price * cart[food.id]), 0)\r\n                    }}$</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"btn-wrapper d-flex flex-wrap justify-center\">\r\n                <Button @onClick=\"$vm2.open('modal-2')\" text=\"Order\" width=\"148px\" height=\"53px\" />\r\n            </div>\r\n            <modal-vue @on-close=\"onCloseModal\" name=\"modal-2\" :headerOptions=\"{\r\n                title: 'Notification',\r\n            }\" noFooter>\r\n                <p class=\"text-center\">Order successfully!</p>\r\n            </modal-vue>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"title-wrapper\">\r\n                <div class=\"menu-title\">\r\n                    <p>Please choose some food!</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Button from \"../components/Button\";\r\n\r\nimport $ from \"jquery\";\r\n// import Dish from \"../components/Dish.vue\";\r\n// import Button from \"../components/Button.vue\";\r\nexport default {\r\n    name: \"MenuDetailPage\",\r\n    components: {\r\n        Button,\r\n    },\r\n    data() {\r\n        return {\r\n            data: {},\r\n        };\r\n    },\r\n    methods: {\r\n        getData() {\r\n            const __this = this;\r\n            var settings = {\r\n                url: `${process.env.VUE_APP_API_URL}/menu`,\r\n                method: \"GET\",\r\n                timeout: 0,\r\n            };\r\n            $.ajax(settings)\r\n                .done(function (response) {\r\n                    let a = JSON.parse(response).response;\r\n                    __this.data = a.filter((food) => {\r\n                        return __this.cart[food.id] && __this.cart[food.id] > 0;\r\n                    });\r\n                })\r\n            __this.localCart = __this.cart;\r\n        },\r\n        decrFoodQuantity(key) {\r\n            let currentCart = this.cart;\r\n            if (currentCart[key] > 0) {\r\n                --currentCart[key];\r\n                if (currentCart[key] == 0) {\r\n                    delete currentCart[key];\r\n                    this.data = this.data.filter((food) => {\r\n                        return this.cart[food.id] && this.cart[food.id] > 0;\r\n                    });\r\n                }\r\n                this.updateCart(currentCart);\r\n            }\r\n            this.$forceUpdate()\r\n        },\r\n        incrFoodQuantity(key) {\r\n            let currentCart = this.cart;\r\n            ++currentCart[key];\r\n            this.updateCart(currentCart);\r\n            this.$forceUpdate();\r\n        },\r\n        async onCloseModal() {\r\n            // await this.resetCart(); // Flush\r\n            this.$vm2.close('modal-2');\r\n            let currentCart = this.cart;\r\n            for (var entry in currentCart) delete currentCart[entry];\r\n            this.updateCart(currentCart);\r\n            this.$router.push(\"/menu\");\r\n        }\r\n    },\r\n    inject: ['cart', 'updateCart', 'resetCart'],\r\n    beforeMount() {\r\n        this.getData();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\r\n\r\nbutton {\r\n    transition: transform .1.5s;\r\n    /* Animation */\r\n}\r\n\r\nbutton:hover {\r\n    transform: scale(1.5);\r\n    /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\r\n}\r\n\r\n.title-wrapper {\r\n    margin-bottom: 4%;\r\n}\r\n\r\n.menu-title {\r\n    font-family: Oleo Script Swash Caps;\r\n    text-align: center;\r\n    font-size: 500%;\r\n    margin: 2% 0% -1% 0%;\r\n}\r\n\r\n.menu-description {\r\n    font-family: 'Roboto', sans-serif;\r\n    /*font-family: 'Hahmlet';*/\r\n    text-align: center;\r\n    margin: 0% 8% -1% 8%;\r\n}\r\n\r\n.btn-wrapper {\r\n    margin: 25px 0 65px 0;\r\n}\r\n</style>\r\n"]}]}
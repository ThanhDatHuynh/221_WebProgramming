{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/AdminUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/AdminUser.vue","mtime":1654786669533},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmltcG9ydCBBZG1pbkl0ZW0gZnJvbSAiLi4vY29tcG9uZW50cy9BZG1pbkl0ZW0udnVlIjsKaW1wb3J0IE1vZGFsQ29uZmlybSBmcm9tICIuLi9jb21wb25lbnRzL01vZGFsQ29uZmlybS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiYWRtaW5Vc2VyIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBBZG1pbkl0ZW0sCiAgICAgICAgTW9kYWxDb25maXJtLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNEZWxldGVNb2RhbE9wZW46IGZhbHNlLAogICAgICAgICAgICBpZFVzZXI6IDAsCiAgICAgICAgICAgIHVzZXJzOiBbXSwKICAgICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyByZWxvYWRQYWdlKCkgewogICAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwOi8vbG9jYWxob3N0OjgwODAvYWRtaW4vdXNlciIpOwogICAgICAgIC8vIH0sCgogICAgICAgIHRvZ2dsZURlbGV0ZUJ0bihpZCkgewogICAgICAgICAgICB0aGlzLmlzRGVsZXRlTW9kYWxPcGVuID0gIXRoaXMuaXNEZWxldGVNb2RhbE9wZW47CiAgICAgICAgICAgIHRoaXMuaWRVc2VyID0gaWQ7CiAgICAgICAgfSwKCiAgICAgICAgZGVsZXRlVXNlcigpIHsKICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgICAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkx9L2FkbWluL2RlbGV0ZV91c2VyL3ske3RoaXMuaWRVc2VyfX1gLAogICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJCZWFyLVRva2VuIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICQuYWpheChzZXR0aW5ncykKICAgICAgICAgICAgICAgIC5kb25lKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28odGhpcy4kcm91dGVyLmN1cnJlbnQpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIGdldFVzZXIoKSB7CiAgICAgICAgICAgIGNvbnN0IF9fdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICAgICAgICAgIHVybDogYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMfS9hZG1pbi91c2Vyc2AsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdGltZW91dDogMCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQmVhci1Ub2tlbiI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAkLmFqYXgoc2V0dGluZ3MpCiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKS5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICBfX3RoaXMudXNlcnMgPSBhOwogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgfSwKICAgIGJlZm9yZU1vdW50KCkgewogICAgICAgIHRoaXMuZ2V0VXNlcigpOwogICAgfSwKfQo="},{"version":3,"sources":["AdminUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUser.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <div class=\"d-flex flex-wrap justify-center\">\n            <AdminItem\n                type=\"UserHeader\"\n                :width=\"'100vw'\"\n                :height=\"'100px'\"\n                :imgSize=\"'70px'\"\n                :items=\"['ID', 'Name', 'Email', 'Phone']\"\n            /> \n        </div>\n        <div class=\"d-flex flex-wrap justify-center\">\n            <div v-for=\"user in users\" :key=\"user.id\">\n                <AdminItem\n                    type=\"User\"\n                    :width=\"'100vw'\"\n                    :height=\"'100px'\"\n                    :imgSize=\"'70px'\"\n                    :items=\"[user.id, user.username, user.email, user.phoneNumber]\"\n                    @onSubmit=\"toggleDeleteBtn(user.id)\"\n                /> \n            </div>\n        </div>\n        <ModalConfirm\n            @toggleModalEvent=\"toggleDeleteBtn()\"\n            :isOpen=\"this.isDeleteModalOpen\"\n            :title=\"'Are you sure ?'\"\n            :content=\"'Do you want to delete this user ?'\"\n            @callbackEvent=\"deleteUser\"\n        />\n    </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport AdminItem from \"../components/AdminItem.vue\";\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\nexport default {\n    name: \"adminUser\",\n    components: {\n        AdminItem,\n        ModalConfirm,\n    },\n    data() {\n        return {\n            isDeleteModalOpen: false,\n            idUser: 0,\n            users: [],\n        };\n    },\n    methods: {\n        // reloadPage() {\n        //     window.location.reload();\n        //     window.location.replace(\"http://localhost:8080/admin/user\");\n        // },\n\n        toggleDeleteBtn(id) {\n            this.isDeleteModalOpen = !this.isDeleteModalOpen;\n            this.idUser = id;\n        },\n\n        deleteUser() {\n            var settings = {\n                url: `${process.env.VUE_APP_API_URL}/admin/delete_user/{${this.idUser}}`,\n                method: \"POST\",\n                timeout: 0,\n                headers: {\n                    \"Bear-Token\": localStorage.getItem(\"UserToken\"),\n                },\n            };\n\n            $.ajax(settings)\n                .done(() => {\n                    this.$router.go(this.$router.current)\n                })\n        },\n\n        getUser() {\n            const __this = this;\n            var settings = {\n                url: `${process.env.VUE_APP_API_URL}/admin/users`,\n                method: \"GET\",\n                timeout: 0,\n                headers: {\n                    \"Bear-Token\": localStorage.getItem(\"UserToken\"),\n                },\n            };\n\n            $.ajax(settings)\n                .done(function(response) {\n                    const a = JSON.parse(response).response;\n                    __this.users = a;\n                })\n        },\n    },\n    beforeMount() {\n        this.getUser();\n    },\n}\n</script>"]}]}
{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\BlogDetailPage.vue?vue&type=style&index=0&id=1092f666&scoped=true&lang=css&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\BlogDetailPage.vue","mtime":1655541372413},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655541768209},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655541769422},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1655541769225},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0IHVybCgiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PbGVvK1NjcmlwdCtTd2FzaCtDYXBzJmRpc3BsYXk9c3dhcCIpOw0KQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Um9ib3RvOndnaHRAMzAwJmRpc3BsYXk9c3dhcCcpOw0KDQouYmxvZy1jb250ZW50IHsNCiAgcGFkZGluZzogNXZ3Ow0KICBmb250LWZhbWlseTogIlJvYm90byIsICJzYW5zLXNlcmlmIjsNCn0NCg0KLnJlcGx5IHsNCiAgcGFkZGluZzogMHZ3IDV2dyA1dncgNXZ3Ow0KfQ0KDQoubGlua1RleHQgew0KICBjb2xvcjogd2hpdGU7DQogIGZvbnQtc2l6ZTogMXZ3Ow0KfQ0KDQoudGl0bGUgew0KICBtaW4taGVpZ2h0OiA3MHB4Ow0KfQ0K"},{"version":3,"sources":["BlogDetailPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"BlogDetailPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div v-if=\"!isLoading\" id=\"blog-detail\">\r\n    <v-container>\r\n      <v-layout align-center justify-space-around style=\"flex-wrap:wrap\">\r\n        <h1 class=\"text-center mt-10\">{{ item.blog.title }}</h1>\r\n        <div style=\"width:100%;display:flex;justify-content:center; margin: 20px 0px 20px 0;\">\r\n          <v-btn v-show=\"manager == '1'\" @click=\"this.deletePost\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\r\n            <span class=\"linkText\">Delete</span>\r\n          </v-btn>\r\n          <div style=\"width:5%\"></div>\r\n          <v-btn v-show=\"manager == '1'\" @click=\"this.routeToEditBlog\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\r\n            <span class=\"linkText\">Edit</span>\r\n          </v-btn>\r\n        </div>\r\n      </v-layout>\r\n      <v-layout align-center justify-center>\r\n        <v-img max-height=\"30vw\" max-width=\"70vw\" :src=\"item.blog.image\" style=\"border-radius:10px;\"></v-img>\r\n      </v-layout>\r\n    </v-container>\r\n\r\n    <div class=\"blog-content\">\r\n      <h3>WRITTEN ON {{ item.blog.date }}</h3>\r\n      <paragraph class=\"text-justify\" style='font-family: \"Roboto\", \"sans-serif\";' :content=\"item.blog.content\">\r\n      </paragraph>\r\n    </div>\r\n\r\n    <div class=\"reply\">\r\n      <h2>Reply</h2>\r\n      <comment v-if=\"user !== null\" :id=\"item.blog.id\" />\r\n      <div v-for=\"comment in comments.slice().reverse().filter(\r\n        (_, index) => index >= (page - 1) * 2 && index <= page * 2 - 1\r\n      )\" :key=\"comment.id\">\r\n        <comment-list-item :comment=\"comment\" />\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <v-pagination class=\"mt-4 mb-8\" v-model=\"modelPage\" color=\"#e1651f\" :length=\"\r\n          comments.length % 2 === 0\r\n            ? Math.floor(comments.length / 2)\r\n            : Math.floor(comments.length / 2) + 1\r\n        \" circle></v-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Comment from \"../components/Comment.vue\";\r\nimport Paragraph from \"../components/Paragraph.vue\";\r\nimport $ from \"jquery\";\r\nimport CommentListItem from \"../components/CommentListItem.vue\";\r\nexport default {\r\n  components: { Paragraph, Comment, CommentListItem },\r\n  name: \"blogDetail\",\r\n  data() {\r\n    var managerValue = \"0\";\r\n    var userValue = null;\r\n    if (localStorage.getItem(\"User\") != null) {\r\n      managerValue = JSON.parse(localStorage.getItem(\"User\")).manager;\r\n      userValue = JSON.parse(localStorage.getItem(\"User\"));\r\n    }\r\n    return {\r\n      page: 1,\r\n      isLoading: false,\r\n      formData: {\r\n        // Vue Object Data will be convert into Observer\r\n      },\r\n      item: [],\r\n      comments: [],\r\n      numBlog: this.$route.params.id,\r\n      manager: managerValue,\r\n      user: userValue,\r\n    };\r\n  },\r\n  computed: {\r\n    modelPage: {\r\n      get() {\r\n        return this.page;\r\n      },\r\n      set(value) {\r\n        this.page = value;\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    reloadPage() {\r\n      this.$router.push(\"/blog\");\r\n    },\r\n\r\n    routeToEditBlog() {\r\n      this.$router.push({\r\n        name: \"adminEditBlog\",\r\n        params: { id: this.$route.params.id },\r\n      });\r\n    },\r\n\r\n    deletePost() {\r\n      const token = localStorage.getItem(\"UserToken\");\r\n      var __this = this;\r\n\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/admin/delete_blog/{${this.numBlog}}`,\r\n        method: \"POST\",\r\n        timeout: 0,\r\n        data: {},\r\n        headers: {\r\n          \"Bear-Token\": token,\r\n        },\r\n      };\r\n\r\n      $.ajax(settings).then(() => {\r\n        __this.reloadPage();\r\n      });\r\n    },\r\n\r\n    GetBlogData() {\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/blog/{${this.numBlog}}`,\r\n        method: \"GET\",\r\n        timeout: 0,\r\n        data: {},\r\n        headers: {},\r\n      };\r\n\r\n      $.ajax(settings).then((response) => {\r\n        this.isLoading = false;\r\n        const a = JSON.parse(response).response;\r\n        this.item = a;\r\n        this.comments = this.item.comments;\r\n      });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.isLoading = true;\r\n    this.GetBlogData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\r\n\r\n.blog-content {\r\n  padding: 5vw;\r\n  font-family: \"Roboto\", \"sans-serif\";\r\n}\r\n\r\n.reply {\r\n  padding: 0vw 5vw 5vw 5vw;\r\n}\r\n\r\n.linkText {\r\n  color: white;\r\n  font-size: 1vw;\r\n}\r\n\r\n.title {\r\n  min-height: 70px;\r\n}\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\components\\CommentListItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\components\\CommentListItem.vue","mtime":1655541372409},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJCBmcm9tICJqcXVlcnkiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiY29tbWVudExpc3RJdGVtIiwNCiAgZGF0YSgpIHsNCiAgICB2YXIgbWFuYWdlclZhbHVlID0gIjAiOw0KICAgIHZhciB1c2VyVmFsdWUgPSBudWxsOw0KICAgIHZhciB1c2VySUQgPSAiIjsNCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSAhPSBudWxsKSB7DQogICAgICBtYW5hZ2VyVmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpLm1hbmFnZXI7DQogICAgICB1c2VyVmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpOw0KICAgICAgdXNlcklEID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpKS5pZDsNCiAgICB9DQoNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjogdXNlclZhbHVlLA0KICAgICAgbWFuYWdlcjogbWFuYWdlclZhbHVlLA0KICAgICAgdXNlcklEOiB1c2VySUQsDQogICAgfTsNCg0KICAgIC8vIHJldHVybiB7DQogICAgLy8gICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpLA0KICAgIC8vIH07DQogIH0sDQogIHByb3BzOiB7DQogICAgY29tbWVudDogT2JqZWN0LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcmVsb2FkUGFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5nbyh0aGlzLiRyb3V0ZXIuY3VycmVudCk7DQogICAgfSwNCg0KICAgIERlbGV0ZUNvbW1lbnQoKSB7DQogICAgICB2YXIgX190aGlzID0gdGhpczsNCiAgICAgIGlmICh0aGlzLm1hbmFnZXIgIT0gIjEiKSB7DQogICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpOw0KICAgICAgICB2YXIgc2V0dGluZ3MgPSB7DQogICAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkx9L2NvbW1lbnQvZGVsZXRlL3ske3RoaXMuJHByb3BzLmNvbW1lbnQuaWR9fWAsDQogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgICAgdGltZW91dDogMCwNCiAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBibG9nSWQ6IHRoaXMuJHByb3BzLmNvbW1lbnQuYmxvZ19pZCwNCiAgICAgICAgICB9LA0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICJCZWFyLVRva2VuIjogdG9rZW4sDQogICAgICAgICAgfSwNCiAgICAgICAgfTsNCg0KICAgICAgICAkLmFqYXgoc2V0dGluZ3MpLmRvbmUoZnVuY3Rpb24gKCkgeyBfX3RoaXMucmVsb2FkUGFnZSgpIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIik7DQogICAgICAgIC8vY29uc3QgX190aGlzID0gdGhpczsNCiAgICAgICAgc2V0dGluZ3MgPSB7DQogICAgICAgICAgdXJsOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkx9L2FkbWluL2RlbGV0ZV9jb21tZW50L3ske3RoaXMuJHByb3BzLmNvbW1lbnQuaWR9fWAsDQogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgICAgdGltZW91dDogMCwNCiAgICAgICAgICBkYXRhOiB7fSwNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAiQmVhci1Ub2tlbiI6IHRva2VuLA0KICAgICAgICAgIH0sDQogICAgICAgIH07DQogICAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAoKSB7IF9fdGhpcy5yZWxvYWRQYWdlKCkgfSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["CommentListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentListItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-row align=\"center\">\r\n      <div class=\"comment\" style=\"width = 70%\">\r\n        <v-container fluid>\r\n          <span class=\"comment_title\"> {{ comment.username }} </span>\r\n          <v-lazy>\r\n            <v-textarea\r\n              hide-details\r\n              outlined\r\n              rows=\"3\"\r\n              auto-grow\r\n              style=\"padding = 0\"\r\n              disabled\r\n              :value=\"comment.description\"\r\n            ></v-textarea>\r\n          </v-lazy>\r\n        </v-container>\r\n      </div>\r\n      <v-spacer />\r\n      <div>\r\n        <v-btn\r\n          v-show=\"userID == comment.user_id || this.manager == 1\"\r\n          color=\"#e1651f\"\r\n          @click=\"DeleteComment\"\r\n          class=\"button\"\r\n        >\r\n          <div class=\"buttonText\">Delete</div>\r\n        </v-btn>\r\n      </div>\r\n      <v-spacer />\r\n      <v-spacer />\r\n      <v-spacer />\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nexport default {\r\n  name: \"commentListItem\",\r\n  data() {\r\n    var managerValue = \"0\";\r\n    var userValue = null;\r\n    var userID = \"\";\r\n    if (localStorage.getItem(\"User\") != null) {\r\n      managerValue = JSON.parse(localStorage.getItem(\"User\")).manager;\r\n      userValue = JSON.parse(localStorage.getItem(\"User\"));\r\n      userID = JSON.parse(localStorage.getItem(\"User\")).id;\r\n    }\r\n\r\n    return {\r\n      user: userValue,\r\n      manager: managerValue,\r\n      userID: userID,\r\n    };\r\n\r\n    // return {\r\n    //   user: JSON.parse(localStorage.getItem(\"User\")),\r\n    // };\r\n  },\r\n  props: {\r\n    comment: Object,\r\n  },\r\n  methods: {\r\n    reloadPage() {\r\n      this.$router.go(this.$router.current);\r\n    },\r\n\r\n    DeleteComment() {\r\n      var __this = this;\r\n      if (this.manager != \"1\") {\r\n        const token = localStorage.getItem(\"UserToken\");\r\n        var settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/comment/delete/{${this.$props.comment.id}}`,\r\n          method: \"POST\",\r\n          timeout: 0,\r\n          data: {\r\n            blogId: this.$props.comment.blog_id,\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": token,\r\n          },\r\n        };\r\n\r\n        $.ajax(settings).done(function () { __this.reloadPage() });\r\n      } else {\r\n        const token = localStorage.getItem(\"UserToken\");\r\n        //const __this = this;\r\n        settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/admin/delete_comment/{${this.$props.comment.id}}`,\r\n          method: \"POST\",\r\n          timeout: 0,\r\n          data: {},\r\n          headers: {\r\n            \"Bear-Token\": token,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function () { __this.reloadPage() });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.comment {\r\n  width: 65vw;\r\n}\r\n.buttonText {\r\n  color: white;\r\n}\r\n.comment_title {\r\n  font-weight: 600;\r\n  color: #c7632a;\r\n}\r\n.button {\r\n  width: 100px;\r\n}\r\n@media (max-width: 35em) {\r\n  .comment {\r\n    width: 55vw;\r\n  }\r\n  .button {\r\n    width: 70px;\r\n  }\r\n}\r\n</style>\r\n"]}]}
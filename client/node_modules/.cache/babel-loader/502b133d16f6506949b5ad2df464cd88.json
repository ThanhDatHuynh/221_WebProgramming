{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/EditAccountPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/EditAccountPage.vue","mtime":1655271016379},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9kYXRodXluaC9Xb3Jrc3BhY2UvMjIxX1dlYl9Qcm9ncmFtbWluZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RhdGh1eW5oL1dvcmtzcGFjZS8yMjFfV2ViX1Byb2dyYW1taW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTaWRlQmFyIGZyb20gIi4uL2NvbXBvbmVudHMvU2lkZUJhci52dWUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IFJlc2VydmF0aW9uTm90ZSBmcm9tICIuLi9jb21wb25lbnRzL1Jlc2VydmF0aW9uTm90ZS52dWUiOwppbXBvcnQgTW9kYWxDb25maXJtIGZyb20gIi4uL2NvbXBvbmVudHMvTW9kYWxDb25maXJtLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWRpdEFjY291bnRQYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBTaWRlQmFyOiBTaWRlQmFyLAogICAgUmVzZXJ2YXRpb25Ob3RlOiBSZXNlcnZhdGlvbk5vdGUsCiAgICBNb2RhbENvbmZpcm06IE1vZGFsQ29uZmlybQogIH0sCiAgcHJvcHM6IHt9LAoKICAvKioKICAgKiBEYXRhCiAgICovCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU3VjY2VzczogZmFsc2UsCiAgICAgIG5vdGVzOiB7CiAgICAgICAgIk5ldyBVc2VybmFtZSI6ICIiLAogICAgICAgICJOZXcgRW1haWwiOiAiIiwKICAgICAgICAiTmV3IFBob25lIE51bWJlciI6ICIiCiAgICAgIH0sCiAgICAgIGlzTG9nb3V0TW9kYWxPcGVuOiBmYWxzZSwKICAgICAgaXNFZGl0UHJvZmlsZU1vZGFsT3BlbjogZmFsc2UsCiAgICAgIGlzRWRpdFBhc3N3b3JkTW9kYWxPcGVuOiBmYWxzZSwKICAgICAgZm9ybVR5cGU6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogIiIKICAgICAgfSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICAvLyBWdWUgT2JqZWN0IERhdGEgd2lsbCBiZSBjb252ZXJ0IGludG8gT2JzZXJ2ZXIKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBob25lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmV3UGFzc3dvcmQ6ICIiLAogICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgZXJyb3JNZXNzYWdlczogewogICAgICAgIC8vIFZ1ZSBPYmplY3QgRGF0YSB3aWxsIGJlIGNvbnZlcnQgaW50byBPYnNlcnZlcgogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBuZXdQYXNzd29yZDogIiIsCiAgICAgICAgY29uZmlybU5ld1Bhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBzY2hlbWE6IHl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5lbWFpbCgpLmxhYmVsKCJFbWFpbCIpLAogICAgICAgIHBob25lOiB5dXAuc3RyaW5nKCkubWF0Y2hlcygvXlswLTldezEwfSQvLCAiUGhvbmUgbnVtYmVyIG11c3QgYmUgMTAgZGlnaXRzIiksCiAgICAgICAgZGF0ZTogeXVwLnN0cmluZygpLm1hdGNoZXMoLyhbMTJdXGR7M30tKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEyXVxkfDNbMDFdKSkvLCAiRGF0ZSBtdXN0IGJlIG9mIFlZWVktTU0tREQiKSwKICAgICAgICB0aW1lOiB5dXAuc3RyaW5nKCkubWF0Y2hlcygvKD86WzAxXVxkfDJbMDEyM10pOig/OlswMTIzNDVdXGQpOig/OlswMTIzNDVdXGQpL2dtLCAiVGltZSBtdXN0IGJlIG9mIEhIOk1NOlNTIiksCiAgICAgICAgdG90YWxQZW9wbGU6IHl1cC5udW1iZXIoKS5taW4oMSkubWF4KDMwKS5sYWJlbCgiTnVtYmVyIG9mIHBlcnNvbnMiKQogICAgICB9KQogICAgfTsKICB9LAoKICAvKioKICAgKiBNZXRob2RzCiAgICovCiAgbWV0aG9kczogewogICAgaGFuZGxlSW5wdXRWYWxpZGF0aW9uOiBmdW5jdGlvbiBoYW5kbGVJbnB1dFZhbGlkYXRpb24oX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbmFtZSwgdmFsdWUsIHZhbGlkYXRpb25SZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYubmFtZSwgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2NoZW1hLnZhbGlkYXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdmFsdWUpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0LmVycm9ycykgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2VzW25hbWVdID0gdmFsaWRhdGlvblJlc3VsdC5lcnJvcnNbMF07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2VzW25hbWVdID0gIiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVGb3JtQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVGb3JtQ2hhbmdlKG5ld0RhdGEpIHsKICAgICAgdGhpcy5mb3JtRGF0YVtuZXdEYXRhLm5hbWVdID0gbmV3RGF0YS52YWx1ZTsKICAgICAgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24obmV3RGF0YSk7CiAgICB9LAogICAgdG9nZ2xlTW9kYWxPcGVuOiBmdW5jdGlvbiB0b2dnbGVNb2RhbE9wZW4odHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gImxvZ291dCIpIHsKICAgICAgICB0aGlzLmlzTG9nb3V0TW9kYWxPcGVuID0gIXRoaXMuaXNMb2dvdXRNb2RhbE9wZW47CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInByb2ZpbGUiKSB7CiAgICAgICAgdGhpcy5pc0VkaXRQcm9maWxlTW9kYWxPcGVuID0gIXRoaXMuaXNFZGl0UHJvZmlsZU1vZGFsT3BlbjsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAicGFzc3dvcmQiKSB7CiAgICAgICAgdGhpcy5pc0VkaXRQYXNzd29yZE1vZGFsT3BlbiA9ICF0aGlzLmlzRWRpdFBhc3N3b3JkTW9kYWxPcGVuOwogICAgICB9CiAgICB9LAogICAgZWRpdE5vdGVzOiBmdW5jdGlvbiBlZGl0Tm90ZXMocmVzcG9uc2UpIHsKICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGVtYWlsID0gcmVzcG9uc2UuZW1haWwsCiAgICAgICAgICAgIHVzZXJuYW1lID0gcmVzcG9uc2UudXNlcm5hbWUsCiAgICAgICAgICAgIHBob25lTnVtYmVyID0gcmVzcG9uc2UucGhvbmVOdW1iZXI7CiAgICAgICAgdGhpcy5ub3Rlc1siTmV3IFVzZXJuYW1lIl0gPSB1c2VybmFtZTsKICAgICAgICB0aGlzLm5vdGVzWyJOZXcgRW1haWwiXSA9IGVtYWlsOwogICAgICAgIHRoaXMubm90ZXNbIk5ldyBQaG9uZSBOdW1iZXIiXSA9IHBob25lTnVtYmVyOwogICAgICAgIHRoaXMuaXNTdWNjZXNzID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzU3VjY2VzcyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByZWxvYWRQYWdlOiBmdW5jdGlvbiByZWxvYWRQYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICB0aGlzLiRyb3V0ZXIuZ28oIi8iKTsKICAgIH0sCiAgICBsb2dvdXRVc2VyOiBmdW5jdGlvbiBsb2dvdXRVc2VyKCkgewogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpICE9PSAiIikgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJVc2VyVG9rZW4iKTsKICAgICAgfQoKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikgIT09ICIiKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oIlVzZXIiKTsKICAgICAgfQoKICAgICAgdGhpcy5yZWxvYWRQYWdlKCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm1EYXRhKSk7CiAgICAgIHZhciBVc2VyVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIik7CgogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpID09PSAiIikgewogICAgICAgIGFsZXJ0KCJQbGVhc2UgbG9naW4gYmVmb3JlIHRvIGVkaXQgeW91ciBhY2NvdW50IGluZm8iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEdldCBMb2NhbFN0b3JhZ2UgVXNlckluZm8gZmlsbCBpbiB1bmNoYW5nZWQgZmllbGQKICAgICAgICovCgoKICAgICAgdmFyIFVzZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpKTsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09PSAiZWRpdEFjY291bnRQcm9maWxlIikgewogICAgICAgIC8qKgogICAgICAgICAqIEhhbmRsZSBFZGl0IFByb2ZpbGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLnRvZ2dsZU1vZGFsT3BlbigicHJvZmlsZSIpOwogICAgICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9hdXRoL3VwZGF0ZV9wcm9maWxlIiksCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiBmb3JtRGF0YS51c2VybmFtZSwKICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGZvcm1EYXRhLnBob25lLAogICAgICAgICAgICBlbWFpbDogZm9ybURhdGEuZW1haWwsCiAgICAgICAgICAgIGF2YXRhcjogVXNlckluZm8uYXZhdGFyLAogICAgICAgICAgICB1c2VySWQ6IFVzZXJJbmZvLnVzZXJJZAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkJlYXItVG9rZW4iOiBVc2VyVG9rZW4KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHJlc3BvbnNlKSkpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIF9fdGhpcy4kcmVmcy5ub3RlVGl0bGUuaW5uZXJIVE1MID0gIllvdXIgUHJvZmlsZSBIYXMgQmVlbiBVcGRhdGVkISBQbGVhc2UgUmVjaGVjayBCZWZvcmUgTGVhdmluZyI7CgogICAgICAgICAgICBfX3RoaXMuZWRpdE5vdGVzKHJlc3BvbnNlLnJlc3BvbnNlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9fdGhpcy4kcmVmcy5ub3RlVGl0bGUuaW5uZXJIVE1MID0gcmVzcG9uc2UubWVzc2FnZTsKICAgICAgICAgICAgX190aGlzLmlzU3VjY2VzcyA9IHRydWU7CgogICAgICAgICAgICBfX3RoaXMuZWRpdE5vdGVzKG51bGwpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICJlZGl0QWNjb3VudFBhc3N3b3JkIikgewogICAgICAgIC8qKgogICAgICAgICAqIEhhbmRsZSBFZGl0IFBhc3N3b3JkCiAgICAgICAgICovCiAgICAgICAgdGhpcy50b2dnbGVNb2RhbE9wZW4oInBhc3N3b3JkIik7CiAgICAgICAgdmFyIF9zZXR0aW5ncyA9IHsKICAgICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9hdXRoL3VwZGF0ZV9wYXNzd29yZCIpLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBvbGRfcGFzc3dvcmQ6IGZvcm1EYXRhLnBhc3N3b3JkLAogICAgICAgICAgICBuZXdfcGFzc3dvcmQ6IGZvcm1EYXRhLm5ld1Bhc3N3b3JkLAogICAgICAgICAgICB2ZXJpZnlfcGFzc3dvcmQ6IGZvcm1EYXRhLmNvbmZpcm1OZXdQYXNzd29yZAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkJlYXItVG9rZW4iOiBVc2VyVG9rZW4KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgICQuYWpheChfc2V0dGluZ3MpLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShyZXNwb25zZSkpKTsKCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9ICJZb3VyIFBhc3N3b3JkIEhhcyBCZWVuIFVwZGF0ZWQhIFBsZWFzZSBSZWNoZWNrIEJlZm9yZSBMZWF2aW5nIjsKCiAgICAgICAgICAgIF9fdGhpcy5sb2dvdXRVc2VyKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9IHJlc3BvbnNlLm1lc3NhZ2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvKioKICAgKiBMaWZlY3ljbGUgSG9va3MKICAgKi8KICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PT0gImVkaXRBY2NvdW50IikgewogICAgICB0aGlzLiRyb3V0ZXIuaGlzdG9yeS5wdXNoKHsKICAgICAgICBuYW1lOiAiZWRpdEFjY291bnRQcm9maWxlIgogICAgICB9KTsKICAgIH0KCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSAhPSAiIikgewogICAgICB2YXIgVXNlckluZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpOwogICAgICB0aGlzLmZvcm1EYXRhLnVzZXJuYW1lID0gVXNlckluZm9bInVzZXJuYW1lIl07CiAgICAgIHRoaXMuZm9ybURhdGEuZW1haWwgPSBVc2VySW5mb1siZW1haWwiXTsKICAgICAgdGhpcy5mb3JtRGF0YS5waG9uZSA9IFVzZXJJbmZvWyJwaG9uZU51bWJlciJdOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EditAccountPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"edit-account-page-wrapper\">\n    <ModalConfirm\n      @toggleModalEvent=\"toggleModalOpen('logout')\"\n      :isOpen=\"this.isLogoutModalOpen\"\n      :title=\"'Logout Confirm'\"\n      :content=\"'You are about to logout ?'\"\n      @callbackEvent=\"logoutUser\"\n    />\n    <ModalConfirm\n      @toggleModalEvent=\"toggleModalOpen('profile')\"\n      :isOpen=\"this.isEditProfileModalOpen\"\n      :title=\"'Edit Profile Confirm'\"\n      :content=\"'You are about to edit your profile'\"\n      @callbackEvent=\"handleSubmit\"\n    />\n    <ModalConfirm\n      @toggleModalEvent=\"toggleModalOpen('password')\"\n      :isOpen=\"this.isEditPasswordModalOpen\"\n      :title=\"'Edit Password Confirm'\"\n      :content=\"'You are about to edit your password, please relogin if success'\"\n      @callbackEvent=\"handleSubmit\"\n    />\n    <SideBar @logoutEvent=\"toggleModalOpen('logout')\" />\n    <div class=\"update-form-wrapper\">\n      <div style=\"width: 80%; margin: auto\">\n        <router-view\n          :key=\"$route.path\"\n          :data=\"formData\"\n          @onFormChange=\"handleFormChange\"\n          @onSubmit=\"\n            $route.name === 'editAccountProfile'\n              ? toggleModalOpen('profile')\n              : toggleModalOpen('password')\n          \"\n          :errorMessages=\"errorMessages\"\n        />\n        <div v-show=\"isSuccess\" class=\"reservation-note\" ref=\"note\">\n          <div ref=\"noteTitle\" class=\"note-title\"></div>\n          <ReservationNote :notes=\"this.notes\" :isSuccess=\"isSuccess\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideBar from \"../components/SideBar.vue\";\nimport * as yup from \"yup\";\nimport $ from \"jquery\";\nimport ReservationNote from \"../components/ReservationNote.vue\";\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\n\nexport default {\n  name: \"EditAccountPage\",\n  components: { SideBar, ReservationNote, ModalConfirm },\n  props: {},\n\n  /**\n   * Data\n   */\n  data() {\n    return {\n      isSuccess: false,\n      notes: {\n        \"New Username\": \"\",\n        \"New Email\": \"\",\n        \"New Phone Number\": \"\",\n      },\n      isLogoutModalOpen: false,\n      isEditProfileModalOpen: false,\n      isEditPasswordModalOpen: false,\n      formType: {\n        type: String,\n        default: \"\",\n      },\n      formData: {\n        // Vue Object Data will be convert into Observer\n        username: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        newPassword: \"\",\n        confirmNewPassword: \"\",\n      },\n      errorMessages: {\n        // Vue Object Data will be convert into Observer\n        username: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        newPassword: \"\",\n        confirmNewPassword: \"\",\n      },\n      schema: yup.object().shape({\n        email: yup.string().email().label(\"Email\"),\n        phone: yup\n          .string()\n          .matches(/^[0-9]{10}$/, \"Phone number must be 10 digits\"),\n        date: yup\n          .string()\n          .matches(\n            /([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))/,\n            \"Date must be of YYYY-MM-DD\"\n          ),\n        time: yup\n          .string()\n          .matches(\n            /(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)/gm,\n            \"Time must be of HH:MM:SS\"\n          ),\n        totalPeople: yup.number().min(1).max(30).label(\"Number of persons\"),\n      }),\n    };\n  },\n\n  /**\n   * Methods\n   */\n  methods: {\n    async handleInputValidation({ name, value }) {\n      let validationResult = await this.schema\n        .validate({ [name]: value })\n        .catch((error) => {\n          return error;\n        });\n      if (validationResult.errors) {\n        this.errorMessages[name] = validationResult.errors[0];\n      } else {\n        this.errorMessages[name] = \"\";\n      }\n    },\n\n    handleFormChange(newData) {\n      this.formData[newData.name] = newData.value;\n      this.handleInputValidation(newData);\n    },\n\n    toggleModalOpen(type) {\n      if (type === \"logout\") {\n        this.isLogoutModalOpen = !this.isLogoutModalOpen;\n      } else if (type === \"profile\") {\n        this.isEditProfileModalOpen = !this.isEditProfileModalOpen;\n      } else if (type === \"password\") {\n        this.isEditPasswordModalOpen = !this.isEditPasswordModalOpen;\n      }\n    },\n\n    editNotes(response) {\n      if (response) {\n        const { email, username, phoneNumber } = response;\n        this.notes[\"New Username\"] = username;\n        this.notes[\"New Email\"] = email;\n        this.notes[\"New Phone Number\"] = phoneNumber;\n        this.isSuccess = true;\n      } else {\n        this.isSuccess = true;\n      }\n    },\n\n    reloadPage() {\n      this.$router.push(\"/\");\n      this.$router.go(\"/\");\n    },\n\n    logoutUser() {\n      if (localStorage.getItem(\"UserToken\") !== \"\") {\n        localStorage.removeItem(\"UserToken\");\n      }\n      if (localStorage.getItem(\"User\") !== \"\") {\n        localStorage.removeItem(\"User\");\n      }\n      this.reloadPage();\n    },\n\n    handleSubmit() {\n      var __this = this;\n      const formData = JSON.parse(JSON.stringify(this.formData));\n\n      const UserToken = localStorage.getItem(\"UserToken\");\n      if (localStorage.getItem(\"UserToken\") === \"\") {\n        alert(\"Please login before to edit your account info\");\n        return;\n      }\n      /**\n       * Get LocalStorage UserInfo fill in unchanged field\n       */\n      const UserInfo = JSON.parse(localStorage.getItem(\"User\"));\n\n      if (this.$route.name === \"editAccountProfile\") {\n        /**\n         * Handle Edit Profile\n         */\n        this.toggleModalOpen(\"profile\");\n        let settings = {\n          url: `${process.env.VUE_APP_API_URL}/auth/update_profile`,\n          method: \"post\",\n          timeout: 0,\n          data: {\n            username: formData.username,\n            phoneNumber: formData.phone,\n            email: formData.email,\n            avatar: UserInfo.avatar,\n            userId: UserInfo.userId,\n          },\n          headers: {\n            \"Bear-Token\": UserToken,\n          },\n        };\n        $.ajax(settings).done(function (response) {\n          response = JSON.parse(JSON.stringify(JSON.parse(response)));\n          if (response.status == 200) {\n            __this.$refs.noteTitle.innerHTML =\n              \"Your Profile Has Been Updated! Please Recheck Before Leaving\";\n            __this.editNotes(response.response);\n          } else {\n            __this.$refs.noteTitle.innerHTML = response.message;\n            __this.isSuccess = true;\n            __this.editNotes(null);\n          }\n        });\n      } else if (this.$route.name === \"editAccountPassword\") {\n        /**\n         * Handle Edit Password\n         */\n        this.toggleModalOpen(\"password\");\n        let settings = {\n          url: `${process.env.VUE_APP_API_URL}/auth/update_password`,\n          method: \"post\",\n          timeout: 0,\n          data: {\n            old_password: formData.password,\n            new_password: formData.newPassword,\n            verify_password: formData.confirmNewPassword,\n          },\n          headers: {\n            \"Bear-Token\": UserToken,\n          },\n        };\n        $.ajax(settings).done(function (response) {\n          response = JSON.parse(JSON.stringify(JSON.parse(response)));\n          if (response.status == 200) {\n            __this.$refs.noteTitle.innerHTML =\n              \"Your Password Has Been Updated! Please Recheck Before Leaving\";\n            __this.logoutUser();\n          } else {\n            __this.$refs.noteTitle.innerHTML = response.message;\n          }\n        });\n      }\n    },\n  },\n\n  /**\n   * Lifecycle Hooks\n   */\n  beforeMount() {\n    if (this.$route.name === \"editAccount\") {\n      this.$router.history.push({ name: \"editAccountProfile\" });\n    }\n\n    if (localStorage.getItem(\"User\") != \"\") {\n      const UserInfo = JSON.parse(localStorage.getItem(\"User\"));\n      this.formData.username = UserInfo[\"username\"];\n      this.formData.email = UserInfo[\"email\"];\n      this.formData.phone = UserInfo[\"phoneNumber\"];\n    }\n  },\n};\n</script>\n\n<style scoped>\n.edit-account-page-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n\n.edit-options-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 30%;\n}\n\n.update-form-wrapper {\n  margin: 100px 0 100px 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 60%;\n}\n\n.option-item {\n  margin: 20px 0 20px 0;\n  background: rgba(225, 101, 31, 0.25);\n  width: 100%;\n  height: 50px;\n  border-radius: 5px;\n}\n\n.reservation-note {\n  margin: 20px auto;\n  width: 100%;\n  border-radius: 20px;\n  background-color: #ededed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.reservation-note > * {\n  width: 100%;\n}\n\n.note-title {\n  font-family: Roboto, 'san-serif';\n  text-align: center;\n  font-size: 200%;\n  margin: 20px 0 20px 0;\n}\n\n@media screen and (max-width: 900px) {\n  .update-form-wrapper {\n    width: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages"}]}
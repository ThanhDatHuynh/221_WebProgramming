{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\BlogDetailPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\BlogDetailPage.vue","mtime":1655551292988},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvbW1lbnQgZnJvbSAiLi4vY29tcG9uZW50cy9Db21tZW50LnZ1ZSI7CmltcG9ydCBQYXJhZ3JhcGggZnJvbSAiLi4vY29tcG9uZW50cy9QYXJhZ3JhcGgudnVlIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IENvbW1lbnRMaXN0SXRlbSBmcm9tICIuLi9jb21wb25lbnRzL0NvbW1lbnRMaXN0SXRlbS52dWUiOwppbXBvcnQgTW9kYWxDb25maXJtIGZyb20gIi4uL2NvbXBvbmVudHMvTW9kYWxDb25maXJtLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQYXJhZ3JhcGg6IFBhcmFncmFwaCwKICAgIENvbW1lbnQ6IENvbW1lbnQsCiAgICBDb21tZW50TGlzdEl0ZW06IENvbW1lbnRMaXN0SXRlbSwKICAgIE1vZGFsQ29uZmlybTogTW9kYWxDb25maXJtCiAgfSwKICBuYW1lOiAiYmxvZ0RldGFpbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBtYW5hZ2VyVmFsdWUgPSAiMCI7CiAgICB2YXIgdXNlclZhbHVlID0gbnVsbDsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSAhPSBudWxsKSB7CiAgICAgIG1hbmFnZXJWYWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSkubWFuYWdlcjsKICAgICAgdXNlclZhbHVlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpKTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBwYWdlOiAxLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBmb3JtRGF0YTogey8vIFZ1ZSBPYmplY3QgRGF0YSB3aWxsIGJlIGNvbnZlcnQgaW50byBPYnNlcnZlcgogICAgICB9LAogICAgICBpdGVtOiBbXSwKICAgICAgY29tbWVudHM6IFtdLAogICAgICBudW1CbG9nOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgIG1hbmFnZXI6IG1hbmFnZXJWYWx1ZSwKICAgICAgdXNlcjogdXNlclZhbHVlLAogICAgICBpc01vZGFsT3BlbjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbW9kZWxQYWdlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnBhZ2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5wYWdlID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZURlbGV0ZUJ0bjogZnVuY3Rpb24gdG9nZ2xlRGVsZXRlQnRuKCkgewogICAgICB0aGlzLmlzTW9kYWxPcGVuID0gIXRoaXMuaXNNb2RhbE9wZW47CiAgICB9LAogICAgcmVsb2FkUGFnZTogZnVuY3Rpb24gcmVsb2FkUGFnZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ibG9nIik7CiAgICB9LAogICAgcm91dGVUb0VkaXRCbG9nOiBmdW5jdGlvbiByb3V0ZVRvRWRpdEJsb2coKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiYWRtaW5FZGl0QmxvZyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVQb3N0OiBmdW5jdGlvbiBkZWxldGVQb3N0KCkgewogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIik7CgogICAgICB2YXIgX190aGlzID0gdGhpczsKCiAgICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYWRtaW4vZGVsZXRlX2Jsb2cveyIpLmNvbmNhdCh0aGlzLm51bUJsb2csICJ9IiksCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdGltZW91dDogMCwKICAgICAgICBkYXRhOiB7fSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQmVhci1Ub2tlbiI6IHRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICAkLmFqYXgoc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF9fdGhpcy5yZWxvYWRQYWdlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIEdldEJsb2dEYXRhOiBmdW5jdGlvbiBHZXRCbG9nRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYmxvZy97IikuY29uY2F0KHRoaXMubnVtQmxvZywgIn0iKSwKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgZGF0YToge30sCiAgICAgICAgaGVhZGVyczoge30KICAgICAgfTsKICAgICAgJC5hamF4KHNldHRpbmdzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHZhciBhID0gSlNPTi5wYXJzZShyZXNwb25zZSkucmVzcG9uc2U7CiAgICAgICAgX3RoaXMuaXRlbSA9IGE7CiAgICAgICAgX3RoaXMuY29tbWVudHMgPSBfdGhpcy5pdGVtLmNvbW1lbnRzOwogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHRoaXMuR2V0QmxvZ0RhdGEoKTsKICB9Cn07"},{"version":3,"sources":["BlogDetailPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-if=\"!isLoading\" id=\"blog-detail\">\r\n    <v-container>\r\n      <v-layout align-center justify-space-around style=\"flex-wrap:wrap\">\r\n        <h1 class=\"text-center mt-10\">{{ item.blog.title }}</h1>\r\n        <div style=\"width:100%;display:flex;justify-content:center; margin: 20px 0px 20px 0;\">\r\n          <v-btn v-show=\"manager == '1'\" @click=\"toggleDeleteBtn()\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\r\n            <span class=\"linkText\">Delete</span>\r\n            <ModalConfirm @toggleModalEvent=\"toggleDeleteBtn()\" :isOpen=\"this.isModalOpen\" :title=\"'Are you sure ?'\"\r\n            :content=\"'Do you want to delete this user?'\" @callbackEvent=\"deletePost\" />\r\n          </v-btn>\r\n          <div style=\"width:5%\"></div>\r\n          <v-btn v-show=\"manager == '1'\" @click=\"this.routeToEditBlog\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\r\n            <span class=\"linkText\">Edit</span>\r\n          </v-btn>\r\n        </div>\r\n      </v-layout>\r\n      <v-layout align-center justify-center>\r\n        <v-img max-height=\"30vw\" max-width=\"70vw\" :src=\"item.blog.image\" style=\"border-radius:10px;\"></v-img>\r\n      </v-layout>\r\n    </v-container>\r\n\r\n    <div class=\"blog-content\">\r\n      <h3>WRITTEN ON {{ item.blog.date }}</h3>\r\n      <paragraph class=\"text-justify\" style='font-family: \"Roboto\", \"sans-serif\";' :content=\"item.blog.content\">\r\n      </paragraph>\r\n    </div>\r\n\r\n    <div class=\"reply\">\r\n      <h2>Reply</h2>\r\n      <comment v-if=\"user !== null\" :id=\"item.blog.id\" />\r\n      <div v-for=\"comment in comments.slice().reverse().filter(\r\n        (_, index) => index >= (page - 1) * 2 && index <= page * 2 - 1\r\n      )\" :key=\"comment.id\">\r\n        <comment-list-item :comment=\"comment\" />\r\n      </div>\r\n      <div class=\"text-center\">\r\n        <v-pagination class=\"mt-4 mb-8\" v-model=\"modelPage\" color=\"#e1651f\" :length=\"\r\n          comments.length % 2 === 0\r\n            ? Math.floor(comments.length / 2)\r\n            : Math.floor(comments.length / 2) + 1\r\n        \" circle></v-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Comment from \"../components/Comment.vue\";\r\nimport Paragraph from \"../components/Paragraph.vue\";\r\nimport $ from \"jquery\";\r\nimport CommentListItem from \"../components/CommentListItem.vue\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\nexport default {\r\n  components: { Paragraph, Comment, CommentListItem, ModalConfirm },\r\n  name: \"blogDetail\",\r\n  data() {\r\n    var managerValue = \"0\";\r\n    var userValue = null;\r\n    if (localStorage.getItem(\"User\") != null) {\r\n      managerValue = JSON.parse(localStorage.getItem(\"User\")).manager;\r\n      userValue = JSON.parse(localStorage.getItem(\"User\"));\r\n    }\r\n    return {\r\n      page: 1,\r\n      isLoading: false,\r\n      formData: {\r\n        // Vue Object Data will be convert into Observer\r\n      },\r\n      item: [],\r\n      comments: [],\r\n      numBlog: this.$route.params.id,\r\n      manager: managerValue,\r\n      user: userValue,\r\n      isModalOpen: false,\r\n    };\r\n  },\r\n  computed: {\r\n    modelPage: {\r\n      get() {\r\n        return this.page;\r\n      },\r\n      set(value) {\r\n        this.page = value;\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDeleteBtn() {\r\n      this.isModalOpen = !this.isModalOpen;\r\n    },\r\n    reloadPage() {\r\n      this.$router.push(\"/blog\");\r\n    },\r\n\r\n    routeToEditBlog() {\r\n      this.$router.push({\r\n        name: \"adminEditBlog\",\r\n        params: { id: this.$route.params.id },\r\n      });\r\n    },\r\n\r\n    deletePost() {\r\n      const token = localStorage.getItem(\"UserToken\");\r\n      var __this = this;\r\n\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/admin/delete_blog/{${this.numBlog}}`,\r\n        method: \"POST\",\r\n        timeout: 0,\r\n        data: {},\r\n        headers: {\r\n          \"Bear-Token\": token,\r\n        },\r\n      };\r\n\r\n      $.ajax(settings).then(() => {\r\n        __this.reloadPage();\r\n      });\r\n    },\r\n\r\n    GetBlogData() {\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/blog/{${this.numBlog}}`,\r\n        method: \"GET\",\r\n        timeout: 0,\r\n        data: {},\r\n        headers: {},\r\n      };\r\n\r\n      $.ajax(settings).then((response) => {\r\n        this.isLoading = false;\r\n        const a = JSON.parse(response).response;\r\n        this.item = a;\r\n        this.comments = this.item.comments;\r\n      });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.isLoading = true;\r\n    this.GetBlogData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\r\n\r\n.blog-content {\r\n  padding: 5vw;\r\n  font-family: \"Roboto\", \"sans-serif\";\r\n}\r\n\r\n.reply {\r\n  padding: 0vw 5vw 5vw 5vw;\r\n}\r\n\r\n.linkText {\r\n  color: white;\r\n  font-size: 1vw;\r\n}\r\n\r\n.title {\r\n  min-height: 70px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}
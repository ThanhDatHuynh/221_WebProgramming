{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\components\\CommentListItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\components\\CommentListItem.vue","mtime":1655541372409},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1655541734276},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb21tZW50TGlzdEl0ZW0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgbWFuYWdlclZhbHVlID0gIjAiOwogICAgdmFyIHVzZXJWYWx1ZSA9IG51bGw7CiAgICB2YXIgdXNlcklEID0gIiI7CgogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikgIT0gbnVsbCkgewogICAgICBtYW5hZ2VyVmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpLm1hbmFnZXI7CiAgICAgIHVzZXJWYWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSk7CiAgICAgIHVzZXJJRCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSkuaWQ7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdXNlcjogdXNlclZhbHVlLAogICAgICBtYW5hZ2VyOiBtYW5hZ2VyVmFsdWUsCiAgICAgIHVzZXJJRDogdXNlcklECiAgICB9OyAvLyByZXR1cm4gewogICAgLy8gICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpLAogICAgLy8gfTsKICB9LAogIHByb3BzOiB7CiAgICBjb21tZW50OiBPYmplY3QKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbG9hZFBhZ2U6IGZ1bmN0aW9uIHJlbG9hZFBhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbyh0aGlzLiRyb3V0ZXIuY3VycmVudCk7CiAgICB9LAogICAgRGVsZXRlQ29tbWVudDogZnVuY3Rpb24gRGVsZXRlQ29tbWVudCgpIHsKICAgICAgdmFyIF9fdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5tYW5hZ2VyICE9ICIxIikgewogICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKTsKICAgICAgICB2YXIgc2V0dGluZ3MgPSB7CiAgICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvY29tbWVudC9kZWxldGUveyIpLmNvbmNhdCh0aGlzLiRwcm9wcy5jb21tZW50LmlkLCAifSIpLAogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBibG9nSWQ6IHRoaXMuJHByb3BzLmNvbW1lbnQuYmxvZ19pZAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkJlYXItVG9rZW4iOiB0b2tlbgogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF9fdGhpcy5yZWxvYWRQYWdlKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKTsgLy9jb25zdCBfX3RoaXMgPSB0aGlzOwoKCiAgICAgICAgc2V0dGluZ3MgPSB7CiAgICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYWRtaW4vZGVsZXRlX2NvbW1lbnQveyIpLmNvbmNhdCh0aGlzLiRwcm9wcy5jb21tZW50LmlkLCAifSIpLAogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgZGF0YToge30sCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJCZWFyLVRva2VuIjogX3Rva2VuCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAkLmFqYXgoc2V0dGluZ3MpLmRvbmUoZnVuY3Rpb24gKCkgewogICAgICAgICAgX190aGlzLnJlbG9hZFBhZ2UoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["CommentListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,CAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,IAFA,kBAEA;AACA,QAAA,YAAA,GAAA,GAAA;AACA,QAAA,SAAA,GAAA,IAAA;AACA,QAAA,MAAA,GAAA,EAAA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,MAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,OAAA;AACA,MAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,MAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA;;AAEA,WAAA;AACA,MAAA,IAAA,EAAA,SADA;AAEA,MAAA,OAAA,EAAA,YAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA,CAVA,CAgBA;AACA;AACA;AACA,GArBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAtBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,KAAA,OAAA,CAAA,OAAA;AACA,KAHA;AAKA,IAAA,aALA,2BAKA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,KAAA,OAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,YAAA,QAAA,GAAA;AACA,UAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,8BAAA,KAAA,MAAA,CAAA,OAAA,CAAA,EAAA,MADA;AAEA,UAAA,MAAA,EAAA,MAFA;AAGA,UAAA,OAAA,EAAA,CAHA;AAIA,UAAA,IAAA,EAAA;AACA,YAAA,MAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA;AADA,WAJA;AAOA,UAAA,OAAA,EAAA;AACA,0BAAA;AADA;AAPA,SAAA;AAYA,QAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AAAA,UAAA,MAAA,CAAA,UAAA;AAAA,SAAA;AACA,OAfA,MAeA;AACA,YAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CADA,CAEA;;;AACA,QAAA,QAAA,GAAA;AACA,UAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,oCAAA,KAAA,MAAA,CAAA,OAAA,CAAA,EAAA,MADA;AAEA,UAAA,MAAA,EAAA,MAFA;AAGA,UAAA,OAAA,EAAA,CAHA;AAIA,UAAA,IAAA,EAAA,EAJA;AAKA,UAAA,OAAA,EAAA;AACA,0BAAA;AADA;AALA,SAAA;AASA,QAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AAAA,UAAA,MAAA,CAAA,UAAA;AAAA,SAAA;AACA;AACA;AApCA;AAzBA,CAAA","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-row align=\"center\">\r\n      <div class=\"comment\" style=\"width = 70%\">\r\n        <v-container fluid>\r\n          <span class=\"comment_title\"> {{ comment.username }} </span>\r\n          <v-lazy>\r\n            <v-textarea\r\n              hide-details\r\n              outlined\r\n              rows=\"3\"\r\n              auto-grow\r\n              style=\"padding = 0\"\r\n              disabled\r\n              :value=\"comment.description\"\r\n            ></v-textarea>\r\n          </v-lazy>\r\n        </v-container>\r\n      </div>\r\n      <v-spacer />\r\n      <div>\r\n        <v-btn\r\n          v-show=\"userID == comment.user_id || this.manager == 1\"\r\n          color=\"#e1651f\"\r\n          @click=\"DeleteComment\"\r\n          class=\"button\"\r\n        >\r\n          <div class=\"buttonText\">Delete</div>\r\n        </v-btn>\r\n      </div>\r\n      <v-spacer />\r\n      <v-spacer />\r\n      <v-spacer />\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nexport default {\r\n  name: \"commentListItem\",\r\n  data() {\r\n    var managerValue = \"0\";\r\n    var userValue = null;\r\n    var userID = \"\";\r\n    if (localStorage.getItem(\"User\") != null) {\r\n      managerValue = JSON.parse(localStorage.getItem(\"User\")).manager;\r\n      userValue = JSON.parse(localStorage.getItem(\"User\"));\r\n      userID = JSON.parse(localStorage.getItem(\"User\")).id;\r\n    }\r\n\r\n    return {\r\n      user: userValue,\r\n      manager: managerValue,\r\n      userID: userID,\r\n    };\r\n\r\n    // return {\r\n    //   user: JSON.parse(localStorage.getItem(\"User\")),\r\n    // };\r\n  },\r\n  props: {\r\n    comment: Object,\r\n  },\r\n  methods: {\r\n    reloadPage() {\r\n      this.$router.go(this.$router.current);\r\n    },\r\n\r\n    DeleteComment() {\r\n      var __this = this;\r\n      if (this.manager != \"1\") {\r\n        const token = localStorage.getItem(\"UserToken\");\r\n        var settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/comment/delete/{${this.$props.comment.id}}`,\r\n          method: \"POST\",\r\n          timeout: 0,\r\n          data: {\r\n            blogId: this.$props.comment.blog_id,\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": token,\r\n          },\r\n        };\r\n\r\n        $.ajax(settings).done(function () { __this.reloadPage() });\r\n      } else {\r\n        const token = localStorage.getItem(\"UserToken\");\r\n        //const __this = this;\r\n        settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/admin/delete_comment/{${this.$props.comment.id}}`,\r\n          method: \"POST\",\r\n          timeout: 0,\r\n          data: {},\r\n          headers: {\r\n            \"Bear-Token\": token,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function () { __this.reloadPage() });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.comment {\r\n  width: 65vw;\r\n}\r\n.buttonText {\r\n  color: white;\r\n}\r\n.comment_title {\r\n  font-weight: 600;\r\n  color: #c7632a;\r\n}\r\n.button {\r\n  width: 100px;\r\n}\r\n@media (max-width: 35em) {\r\n  .comment {\r\n    width: 55vw;\r\n  }\r\n  .button {\r\n    width: 70px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}
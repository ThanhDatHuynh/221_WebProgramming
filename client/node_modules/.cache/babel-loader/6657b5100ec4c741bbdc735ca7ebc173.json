{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/AdminUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/AdminUser.vue","mtime":1654786669533},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IEFkbWluSXRlbSBmcm9tICIuLi9jb21wb25lbnRzL0FkbWluSXRlbS52dWUiOwppbXBvcnQgTW9kYWxDb25maXJtIGZyb20gIi4uL2NvbXBvbmVudHMvTW9kYWxDb25maXJtLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRtaW5Vc2VyIiwKICBjb21wb25lbnRzOiB7CiAgICBBZG1pbkl0ZW06IEFkbWluSXRlbSwKICAgIE1vZGFsQ29uZmlybTogTW9kYWxDb25maXJtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNEZWxldGVNb2RhbE9wZW46IGZhbHNlLAogICAgICBpZFVzZXI6IDAsCiAgICAgIHVzZXJzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIHJlbG9hZFBhZ2UoKSB7CiAgICAvLyAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwOi8vbG9jYWxob3N0OjgwODAvYWRtaW4vdXNlciIpOwogICAgLy8gfSwKICAgIHRvZ2dsZURlbGV0ZUJ0bjogZnVuY3Rpb24gdG9nZ2xlRGVsZXRlQnRuKGlkKSB7CiAgICAgIHRoaXMuaXNEZWxldGVNb2RhbE9wZW4gPSAhdGhpcy5pc0RlbGV0ZU1vZGFsT3BlbjsKICAgICAgdGhpcy5pZFVzZXIgPSBpZDsKICAgIH0sCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9hZG1pbi9kZWxldGVfdXNlci97IikuY29uY2F0KHRoaXMuaWRVc2VyLCAifSIpLAogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkJlYXItVG9rZW4iOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIikKICAgICAgICB9CiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJvdXRlci5nbyhfdGhpcy4kcm91dGVyLmN1cnJlbnQpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICB2YXIgX190aGlzID0gdGhpczsKCiAgICAgIHZhciBzZXR0aW5ncyA9IHsKICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYWRtaW4vdXNlcnMiKSwKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkJlYXItVG9rZW4iOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIikKICAgICAgICB9CiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgYSA9IEpTT04ucGFyc2UocmVzcG9uc2UpLnJlc3BvbnNlOwogICAgICAgIF9fdGhpcy51c2VycyA9IGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5nZXRVc2VyKCk7CiAgfQp9Ow=="},{"version":3,"sources":["AdminUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,OAAA,YAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,YAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AAEA,IAAA,eANA,2BAMA,EANA,EAMA;AACA,WAAA,iBAAA,GAAA,CAAA,KAAA,iBAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,KATA;AAWA,IAAA,UAXA,wBAWA;AAAA;;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,iCAAA,KAAA,MAAA,MADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,OAAA,EAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AACA,wBAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AADA;AAJA,OAAA;AASA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,EAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA;AACA,OAHA;AAIA,KAzBA;AA2BA,IAAA,OA3BA,qBA2BA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,iBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,OAAA,EAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AACA,wBAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AADA;AAJA,OAAA;AASA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA,OAJA;AAKA;AA3CA,GAbA;AA0DA,EAAA,WA1DA,yBA0DA;AACA,SAAA,OAAA;AACA;AA5DA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"d-flex flex-wrap justify-center\">\n            <AdminItem\n                type=\"UserHeader\"\n                :width=\"'100vw'\"\n                :height=\"'100px'\"\n                :imgSize=\"'70px'\"\n                :items=\"['ID', 'Name', 'Email', 'Phone']\"\n            /> \n        </div>\n        <div class=\"d-flex flex-wrap justify-center\">\n            <div v-for=\"user in users\" :key=\"user.id\">\n                <AdminItem\n                    type=\"User\"\n                    :width=\"'100vw'\"\n                    :height=\"'100px'\"\n                    :imgSize=\"'70px'\"\n                    :items=\"[user.id, user.username, user.email, user.phoneNumber]\"\n                    @onSubmit=\"toggleDeleteBtn(user.id)\"\n                /> \n            </div>\n        </div>\n        <ModalConfirm\n            @toggleModalEvent=\"toggleDeleteBtn()\"\n            :isOpen=\"this.isDeleteModalOpen\"\n            :title=\"'Are you sure ?'\"\n            :content=\"'Do you want to delete this user ?'\"\n            @callbackEvent=\"deleteUser\"\n        />\n    </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport AdminItem from \"../components/AdminItem.vue\";\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\nexport default {\n    name: \"adminUser\",\n    components: {\n        AdminItem,\n        ModalConfirm,\n    },\n    data() {\n        return {\n            isDeleteModalOpen: false,\n            idUser: 0,\n            users: [],\n        };\n    },\n    methods: {\n        // reloadPage() {\n        //     window.location.reload();\n        //     window.location.replace(\"http://localhost:8080/admin/user\");\n        // },\n\n        toggleDeleteBtn(id) {\n            this.isDeleteModalOpen = !this.isDeleteModalOpen;\n            this.idUser = id;\n        },\n\n        deleteUser() {\n            var settings = {\n                url: `${process.env.VUE_APP_API_URL}/admin/delete_user/{${this.idUser}}`,\n                method: \"POST\",\n                timeout: 0,\n                headers: {\n                    \"Bear-Token\": localStorage.getItem(\"UserToken\"),\n                },\n            };\n\n            $.ajax(settings)\n                .done(() => {\n                    this.$router.go(this.$router.current)\n                })\n        },\n\n        getUser() {\n            const __this = this;\n            var settings = {\n                url: `${process.env.VUE_APP_API_URL}/admin/users`,\n                method: \"GET\",\n                timeout: 0,\n                headers: {\n                    \"Bear-Token\": localStorage.getItem(\"UserToken\"),\n                },\n            };\n\n            $.ajax(settings)\n                .done(function(response) {\n                    const a = JSON.parse(response).response;\n                    __this.users = a;\n                })\n        },\n    },\n    beforeMount() {\n        this.getUser();\n    },\n}\n</script>"],"sourceRoot":"src/pages"}]}
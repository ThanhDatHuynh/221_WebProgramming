{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/CartPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/CartPage.vue","mtime":1655187663905},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RhdGh1eW5oL1dvcmtzcGFjZS8yMjFfV2ViX1Byb2dyYW1taW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJ1dHRvbiBmcm9tICIuLi9jb21wb25lbnRzL0J1dHRvbiI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7IC8vIGltcG9ydCBEaXNoIGZyb20gIi4uL2NvbXBvbmVudHMvRGlzaC52dWUiOwovLyBpbXBvcnQgQnV0dG9uIGZyb20gIi4uL2NvbXBvbmVudHMvQnV0dG9uLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lbnVEZXRhaWxQYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBCdXR0b246IEJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF9fdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2V0dGluZ3MgPSB7CiAgICAgICAgdXJsOiAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMLCAiL21lbnUiKSwKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIHRpbWVvdXQ6IDAKICAgICAgfTsKICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBhID0gSlNPTi5wYXJzZShyZXNwb25zZSkucmVzcG9uc2U7CiAgICAgICAgX190aGlzLmRhdGEgPSBhLmZpbHRlcihmdW5jdGlvbiAoZm9vZCkgewogICAgICAgICAgcmV0dXJuIF9fdGhpcy5jYXJ0W2Zvb2QuaWRdICYmIF9fdGhpcy5jYXJ0W2Zvb2QuaWRdID4gMDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIF9fdGhpcy5sb2NhbENhcnQgPSBfX3RoaXMuY2FydDsKICAgIH0sCiAgICBkZWNyRm9vZFF1YW50aXR5OiBmdW5jdGlvbiBkZWNyRm9vZFF1YW50aXR5KGtleSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGN1cnJlbnRDYXJ0ID0gdGhpcy5jYXJ0OwoKICAgICAgaWYgKGN1cnJlbnRDYXJ0W2tleV0gPiAwKSB7CiAgICAgICAgLS1jdXJyZW50Q2FydFtrZXldOwoKICAgICAgICBpZiAoY3VycmVudENhcnRba2V5XSA9PSAwKSB7CiAgICAgICAgICBkZWxldGUgY3VycmVudENhcnRba2V5XTsKICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGZvb2QpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNhcnRbZm9vZC5pZF0gJiYgX3RoaXMuY2FydFtmb29kLmlkXSA+IDA7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMudXBkYXRlQ2FydChjdXJyZW50Q2FydCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgaW5jckZvb2RRdWFudGl0eTogZnVuY3Rpb24gaW5jckZvb2RRdWFudGl0eShrZXkpIHsKICAgICAgdmFyIGN1cnJlbnRDYXJ0ID0gdGhpcy5jYXJ0OwogICAgICArK2N1cnJlbnRDYXJ0W2tleV07CiAgICAgIHRoaXMudXBkYXRlQ2FydChjdXJyZW50Q2FydCk7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgb25DbG9zZU1vZGFsOiBmdW5jdGlvbiBvbkNsb3NlTW9kYWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3VycmVudENhcnQsIGVudHJ5OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMucmVzZXRDYXJ0KCk7IC8vIEZsdXNoCiAgICAgICAgICAgICAgICBfdGhpczIuJHZtMi5jbG9zZSgnbW9kYWwtMicpOwoKICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJ0ID0gX3RoaXMyLmNhcnQ7CgogICAgICAgICAgICAgICAgZm9yIChlbnRyeSBpbiBjdXJyZW50Q2FydCkgewogICAgICAgICAgICAgICAgICBkZWxldGUgY3VycmVudENhcnRbZW50cnldOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVDYXJ0KGN1cnJlbnRDYXJ0KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvbWVudSIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBpbmplY3Q6IFsnY2FydCcsICd1cGRhdGVDYXJ0JywgJ3Jlc2V0Q2FydCddLAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["CartPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,OAAA,MAAA,MAAA,sBAAA;AAEA,OAAA,CAAA,MAAA,QAAA,C,CACA;AACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,UADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAKA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,SAFA,CAAA;AAGA,OANA;AAOA,MAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,4BAiBA,GAjBA,EAiBA;AAAA;;AACA,UAAA,WAAA,GAAA,KAAA,IAAA;;AACA,UAAA,WAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,WAAA,CAAA,GAAA,CAAA;;AACA,YAAA,WAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,iBAAA,WAAA,CAAA,GAAA,CAAA;AACA,eAAA,IAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,WAFA,CAAA;AAGA;;AACA,aAAA,UAAA,CAAA,WAAA;AACA;;AACA,WAAA,YAAA;AACA,KA9BA;AA+BA,IAAA,gBA/BA,4BA+BA,GA/BA,EA+BA;AACA,UAAA,WAAA,GAAA,KAAA,IAAA;AACA,QAAA,WAAA,CAAA,GAAA,CAAA;AACA,WAAA,UAAA,CAAA,WAAA;AACA,WAAA,YAAA;AACA,KApCA;AAqCA,IAAA,YArCA,0BAqCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA;;AACA,gBAAA,WAHA,GAGA,MAAA,CAAA,IAHA;;AAIA,qBAAA,KAAA,IAAA,WAAA;AAAA,yBAAA,WAAA,CAAA,KAAA,CAAA;AAAA;;AACA,gBAAA,MAAA,CAAA,UAAA,CAAA,WAAA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA5CA,GAVA;AAwDA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,WAAA,CAxDA;AAyDA,EAAA,WAzDA,yBAyDA;AACA,SAAA,OAAA;AACA;AA3DA,CAAA","sourcesContent":["<template>\n    <div class=\"container\" style=\"min-height:60vh\">\n        <div class=\"title-wrapper\">\n            <div class=\"menu-title\">\n                <p>Your Cart</p>\n            </div>\n        </div>\n        <div v-if=\"data.length > 0\">\n            <div>\n                <div v-for=\"food in this.data\" :key=\"food.id\" class=\"row align-items-center justify-center rounded\"\n                    :v-show=\"cart[food.id] && cart[food.id] >= 0\" style=\"background-color:#f2f2f2; margin:5px\">\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.name }}</div>\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\"><img :src=\"food.image\"\n                            style=\"max-width:100px; border-radius:5px\" /></div>\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\n                        <button @click=\"() => decrFoodQuantity(food.id)\">\n                            <font-awesome-icon icon=\"fa-solid fa-circle-minus\" />\n                        </button>\n                    </div>\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\n                        {{ cart[food.id] }}\n                    </div>\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\n                        <button @click=\"() => incrFoodQuantity(food.id)\">\n                            <font-awesome-icon icon=\"fa-solid fa-circle-plus\" />\n                        </button>\n                    </div>\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.price *\n                    cart[food.id]\n                    }} $</div>\n                </div>\n            </div>\n            <div>\n                <div class=\"row align-items-center justify-center rounded\" style=\"background-color:#f2f2f2; margin:5px\">\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">Total:\n                    </div>\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">{{\n                    data.reduce((result,\n                    food) => result + (food.price * cart[food.id]), 0)\n                    }}$</div>\n                </div>\n            </div>\n            <div class=\"btn-wrapper d-flex flex-wrap justify-center\">\n                <Button @onClick=\"$vm2.open('modal-2')\" text=\"Order\" width=\"148px\" height=\"53px\" />\n            </div>\n            <modal-vue @on-close=\"onCloseModal\" name=\"modal-2\" :headerOptions=\"{\n                title: 'Notification',\n            }\" noFooter>\n                <p class=\"text-center\">Order successfully!</p>\n            </modal-vue>\n        </div>\n        <div v-else>\n            <div class=\"title-wrapper\">\n                <div class=\"menu-title\">\n                    <p>Please choose some food!</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport Button from \"../components/Button\";\n\nimport $ from \"jquery\";\n// import Dish from \"../components/Dish.vue\";\n// import Button from \"../components/Button.vue\";\nexport default {\n    name: \"MenuDetailPage\",\n    components: {\n        Button,\n    },\n    data() {\n        return {\n            data: {},\n        };\n    },\n    methods: {\n        getData() {\n            const __this = this;\n            var settings = {\n                url: `${process.env.VUE_APP_API_URL}/menu`,\n                method: \"GET\",\n                timeout: 0,\n            };\n            $.ajax(settings)\n                .done(function (response) {\n                    let a = JSON.parse(response).response;\n                    __this.data = a.filter((food) => {\n                        return __this.cart[food.id] && __this.cart[food.id] > 0;\n                    });\n                })\n            __this.localCart = __this.cart;\n        },\n        decrFoodQuantity(key) {\n            let currentCart = this.cart;\n            if (currentCart[key] > 0) {\n                --currentCart[key];\n                if (currentCart[key] == 0) {\n                    delete currentCart[key];\n                    this.data = this.data.filter((food) => {\n                        return this.cart[food.id] && this.cart[food.id] > 0;\n                    });\n                }\n                this.updateCart(currentCart);\n            }\n            this.$forceUpdate()\n        },\n        incrFoodQuantity(key) {\n            let currentCart = this.cart;\n            ++currentCart[key];\n            this.updateCart(currentCart);\n            this.$forceUpdate();\n        },\n        async onCloseModal() {\n            // await this.resetCart(); // Flush\n            this.$vm2.close('modal-2');\n            let currentCart = this.cart;\n            for (var entry in currentCart) delete currentCart[entry];\n            this.updateCart(currentCart);\n            this.$router.push(\"/menu\");\n        }\n    },\n    inject: ['cart', 'updateCart', 'resetCart'],\n    beforeMount() {\n        this.getData();\n    },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\n\nbutton {\n    transition: transform .1.5s;\n    /* Animation */\n}\n\nbutton:hover {\n    transform: scale(1.5);\n    /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\n}\n\n.title-wrapper {\n    margin-bottom: 4%;\n}\n\n.menu-title {\n    font-family: Oleo Script Swash Caps;\n    text-align: center;\n    font-size: 500%;\n    margin: 2% 0% -1% 0%;\n}\n\n.menu-description {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n        Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n    text-align: center;\n    margin: 0% 8% -1% 8%;\n}\n\n.btn-wrapper {\n    margin: 25px 0 65px 0;\n}\n</style>\n"],"sourceRoot":"src/pages"}]}
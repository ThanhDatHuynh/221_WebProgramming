{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/thread-loader/dist/cjs.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/EditBlogPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/EditBlogPage.vue","mtime":1654786669533},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/thread-loader/dist/cjs.js","mtime":1654787234226},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9kYXRodXluaC9Xb3Jrc3BhY2UvMjIxX1dlYl9Qcm9ncmFtbWluZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RhdGh1eW5oL1dvcmtzcGFjZS8yMjFfV2ViX1Byb2dyYW1taW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRm9ybSBmcm9tICIuLi9jb21wb25lbnRzL0Zvcm0udnVlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmltcG9ydCBNb2RhbENvbmZpcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Nb2RhbENvbmZpcm0udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0QmxvZ1BhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm06IEZvcm0sCiAgICBNb2RhbENvbmZpcm06IE1vZGFsQ29uZmlybQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRm9ybVN1Ym1pdGVkOiBmYWxzZSwKICAgICAgY3VycmVudEJsb2dJZDogbnVsbCwKICAgICAgaXNDcmVhdGVCbG9nTW9kYWxPcGVuOiBmYWxzZSwKICAgICAgaXNFZGl0QmxvZ01vZGFsT3BlbjogZmFsc2UsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgLy8gVnVlIE9iamVjdCBEYXRhIHdpbGwgYmUgY29udmVydCBpbnRvIE9ic2VydmVyCiAgICAgICAgaW1hZ2VVcmw6ICIiLAogICAgICAgIGJsb2dUaXRsZTogIiIsCiAgICAgICAgYmxvZ0NvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yTWVzc2FnZXM6IHsKICAgICAgICBpbWFnZVVybDogIiIsCiAgICAgICAgYmxvZ1RpdGxlOiAiIiwKICAgICAgICBibG9nQ29udGVudDogIiIKICAgICAgfSwKICAgICAgLy8gQWRkIGZpZWxkIHdpdGggbmFtZSBpbiBlcnJvck1lc3NhZ2VzIGZvciBvdGhlcnMnIHZhbGlkYXRpb24KICAgICAgc2NoZW1hOiB5dXAub2JqZWN0KCkuc2hhcGUoe30pCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5jdXJyZW50QmxvZ0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgIGlmICh0aGlzLmN1cnJlbnRCbG9nSWQpIHsKICAgICAgdGhpcy5HZXRCbG9nRGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlTW9kYWxPcGVuOiBmdW5jdGlvbiB0b2dnbGVNb2RhbE9wZW4odHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gImNyZWF0ZUJsb2ciKSB7CiAgICAgICAgdGhpcy5pc0NyZWF0ZUJsb2dNb2RhbE9wZW4gPSAhdGhpcy5pc0NyZWF0ZUJsb2dNb2RhbE9wZW47CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImVkaXRCbG9nIikgewogICAgICAgIHRoaXMuaXNFZGl0QmxvZ01vZGFsT3BlbiA9ICF0aGlzLmlzRWRpdEJsb2dNb2RhbE9wZW47CiAgICAgIH0KICAgIH0sCiAgICBHZXRCbG9nRGF0YTogZnVuY3Rpb24gR2V0QmxvZ0RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2V0dGluZ3MgPSB7CiAgICAgICAgdXJsOiAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMLCAiL2Jsb2cveyIpLmNvbmNhdCh0aGlzLmN1cnJlbnRCbG9nSWQsICJ9IiksCiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgIGRhdGE6IHt9LAogICAgICAgIGhlYWRlcnM6IHt9CiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHZhciBibG9nID0gcmVzcG9uc2UucmVzcG9uc2UuYmxvZzsKICAgICAgICAgIF90aGlzLmZvcm1EYXRhLmltYWdlVXJsID0gYmxvZy5pbWFnZTsKICAgICAgICAgIF90aGlzLmZvcm1EYXRhLmJsb2dUaXRsZSA9IGJsb2cudGl0bGU7CiAgICAgICAgICBfdGhpcy5mb3JtRGF0YS5ibG9nQ29udGVudCA9IGJsb2cuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIkNhbm5vdCBnZXQgYmxvZyB0byBlZGl0Iik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVJbnB1dFZhbGlkYXRpb246IGZ1bmN0aW9uIGhhbmRsZUlucHV0VmFsaWRhdGlvbihfcmVmKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbmFtZSwgdmFsdWUsIHZhbGlkYXRpb25SZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYubmFtZSwgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNjaGVtYS52YWxpZGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIHZhbHVlKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvblJlc3VsdC5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yTWVzc2FnZXNbbmFtZV0gPSB2YWxpZGF0aW9uUmVzdWx0LmVycm9yc1swXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvck1lc3NhZ2VzW25hbWVdID0gIiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVGb3JtQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVGb3JtQ2hhbmdlKG5ld0RhdGEpIHsKICAgICAgdGhpcy5mb3JtRGF0YVtuZXdEYXRhLm5hbWVdID0gbmV3RGF0YS52YWx1ZTsKICAgICAgdGhpcy5oYW5kbGVJbnB1dFZhbGlkYXRpb24obmV3RGF0YSk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm1EYXRhKSk7CiAgICAgIHZhciBVc2VyVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlclRva2VuIik7CgogICAgICBpZiAoVXNlclRva2VuID09PSAiIikgewogICAgICAgIGFsZXJ0KCJQbGVhc2UgbG9naW4gYWRtaW4gYWNjb3VudCBiZWZvcmUgdG8gZWRpdCBvciBjcmVhdGUgYmxvZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pc0Zvcm1TdWJtaXRlZCA9IHRydWU7CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PT0gImFkbWluQ3JlYXRlQmxvZyIpIHsKICAgICAgICAvKioKICAgICAgICAgKiBIYW5kbGUgRWRpdCBQcm9maWxlCiAgICAgICAgICovCiAgICAgICAgdGhpcy50b2dnbGVNb2RhbE9wZW4oImNyZWF0ZUJsb2ciKTsKICAgICAgICB2YXIgc2V0dGluZ3MgPSB7CiAgICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYWRtaW4vY3JlYXRlX2Jsb2ciKSwKICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgdGltZW91dDogMCwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgaW1hZ2U6IGZvcm1EYXRhLmltYWdlVXJsLAogICAgICAgICAgICB0aXRsZTogZm9ybURhdGEuYmxvZ1RpdGxlLAogICAgICAgICAgICBjb250ZW50OiBmb3JtRGF0YS5ibG9nQ29udGVudAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkJlYXItVG9rZW4iOiBVc2VyVG9rZW4KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgX190aGlzLiRyZWZzLm5vdGVUaXRsZS5pbm5lckhUTUwgPSAiWW91ciBCbG9nIEhhdmUgQmVlbiBDcmVhdGVkIjsKCiAgICAgICAgICAgIF9fdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgIG5hbWU6ICJibG9nIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9fdGhpcy4kcmVmcy5ub3RlVGl0bGUuaW5uZXJIVE1MID0gcmVzcG9uc2UubWVzc2FnZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09PSAiYWRtaW5FZGl0QmxvZyIpIHsKICAgICAgICAvKioKICAgICAgICAgKiBIYW5kbGUgRWRpdCBQYXNzd29yZAogICAgICAgICAqLwogICAgICAgIHRoaXMudG9nZ2xlTW9kYWxPcGVuKCJlZGl0QmxvZyIpOwogICAgICAgIHZhciBfc2V0dGluZ3MgPSB7CiAgICAgICAgICB1cmw6ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsICIvYWRtaW4vdXBkYXRlX2Jsb2cveyIpLmNvbmNhdCh0aGlzLmN1cnJlbnRCbG9nSWQsICJ9IiksCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHRpbWVvdXQ6IDAsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGltYWdlOiBmb3JtRGF0YS5pbWFnZVVybCwKICAgICAgICAgICAgdGl0bGU6IGZvcm1EYXRhLmJsb2dUaXRsZSwKICAgICAgICAgICAgY29udGVudDogZm9ybURhdGEuYmxvZ0NvbnRlbnQKICAgICAgICAgIH0sCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJCZWFyLVRva2VuIjogVXNlclRva2VuCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAkLmFqYXgoX3NldHRpbmdzKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsKCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9ICJZb3VyIEJsb2cgSGF2ZSBCZWVuIEVkaXRlZCI7CgogICAgICAgICAgICBfX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICBuYW1lOiAiYmxvZyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9IHJlc3BvbnNlLm1lc3NhZ2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["EditBlogPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"edit-blog-wrapper\">\n    <ModalConfirm\n      @toggleModalEvent=\"toggleModalOpen('createBlog')\"\n      :isOpen=\"this.isCreateBlogModalOpen\"\n      :title=\"'Create Blog Confirm'\"\n      :content=\"'You are about to create new blog'\"\n      @callbackEvent=\"handleSubmit\"\n    />\n    <ModalConfirm\n      @toggleModalEvent=\"toggleModalOpen('editBlog')\"\n      :isOpen=\"this.isEditBlogModalOpen\"\n      :title=\"'Edit Blog Confirm'\"\n      :content=\"'You are about to edit your blog'\"\n      @callbackEvent=\"handleSubmit\"\n    />\n    <div class=\"reservation-title\">\n      <p>Create/Edit Blog</p>\n    </div>\n    <div class=\"form-wrapper\">\n      <Form\n        :type=\"'EditBlog'\"\n        :data=\"formData\"\n        :errorMessages=\"errorMessages\"\n        @onFormChange=\"handleFormChange\"\n        @onSubmit=\"\n          $route.name === 'adminCreateBlog'\n            ? toggleModalOpen('createBlog')\n            : toggleModalOpen('editBlog')\n        \"\n      />\n      <div v-show=\"isFormSubmited\" class=\"reservation-note\" ref=\"note\">\n        <div ref=\"noteTitle\" class=\"note-title\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Form from \"../components/Form.vue\";\nimport * as yup from \"yup\";\nimport $ from \"jquery\";\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\n\nexport default {\n  name: \"EditBlogPage\",\n  components: { Form, ModalConfirm },\n  data() {\n    return {\n      isFormSubmited: false,\n      currentBlogId: null,\n      isCreateBlogModalOpen: false,\n      isEditBlogModalOpen: false,\n      formData: {\n        // Vue Object Data will be convert into Observer\n        imageUrl: \"\",\n        blogTitle: \"\",\n        blogContent: \"\",\n      },\n      errorMessages: {\n        imageUrl: \"\",\n        blogTitle: \"\",\n        blogContent: \"\",\n      },\n\n      // Add field with name in errorMessages for others' validation\n      schema: yup.object().shape({}),\n    };\n  },\n  beforeMount() {\n    this.currentBlogId = this.$route.params.id;\n    if (this.currentBlogId) {\n      this.GetBlogData();\n    }\n  },\n\n  methods: {\n    toggleModalOpen(type) {\n      if (type === \"createBlog\") {\n        this.isCreateBlogModalOpen = !this.isCreateBlogModalOpen;\n      } else if (type === \"editBlog\") {\n        this.isEditBlogModalOpen = !this.isEditBlogModalOpen;\n      }\n    },\n\n    GetBlogData() {\n      var settings = {\n        url: `${process.env.VUE_APP_API_URL}/blog/{${this.currentBlogId}}`,\n        method: \"GET\",\n        timeout: 0,\n        data: {},\n        headers: {},\n      };\n\n      $.ajax(settings).then((response) => {\n        response = JSON.parse(response);\n        if (response.status === 200) {\n          const blog = response.response.blog;\n          this.formData.imageUrl = blog.image;\n          this.formData.blogTitle = blog.title;\n          this.formData.blogContent = blog.content;\n        } else {\n          alert(\"Cannot get blog to edit\");\n        }\n      });\n    },\n\n    async handleInputValidation({ name, value }) {\n      let validationResult = await this.schema\n        .validate({ [name]: value })\n        .catch((error) => {\n          return error;\n        });\n      if (validationResult.errors) {\n        this.errorMessages[name] = validationResult.errors[0];\n      } else {\n        this.errorMessages[name] = \"\";\n      }\n    },\n\n    handleFormChange(newData) {\n      this.formData[newData.name] = newData.value;\n      this.handleInputValidation(newData);\n    },\n\n    handleSubmit() {\n      var __this = this;\n      const formData = JSON.parse(JSON.stringify(this.formData));\n\n      const UserToken = localStorage.getItem(\"UserToken\");\n      if (UserToken === \"\") {\n        alert(\"Please login admin account before to edit or create blog\");\n        return;\n      }\n\n      this.isFormSubmited = true;\n      if (this.$route.name === \"adminCreateBlog\") {\n        /**\n         * Handle Edit Profile\n         */\n        this.toggleModalOpen(\"createBlog\");\n        let settings = {\n          url: `${process.env.VUE_APP_API_URL}/admin/create_blog`,\n          method: \"post\",\n          timeout: 0,\n          data: {\n            image: formData.imageUrl,\n            title: formData.blogTitle,\n            content: formData.blogContent,\n          },\n          headers: {\n            \"Bear-Token\": UserToken,\n          },\n        };\n        $.ajax(settings).done(function(response) {\n          response = JSON.parse(response);\n          if (response.status == 200) {\n            __this.$refs.noteTitle.innerHTML = \"Your Blog Have Been Created\";\n            __this.$router.replace({ name: \"blog\" });\n          } else {\n            __this.$refs.noteTitle.innerHTML = response.message;\n          }\n        });\n      } else if (this.$route.name === \"adminEditBlog\") {\n        /**\n         * Handle Edit Password\n         */\n        this.toggleModalOpen(\"editBlog\");\n        let settings = {\n          url: `${process.env.VUE_APP_API_URL}/admin/update_blog/{${this.currentBlogId}}`,\n          method: \"post\",\n          timeout: 0,\n          data: {\n            image: formData.imageUrl,\n            title: formData.blogTitle,\n            content: formData.blogContent,\n          },\n          headers: {\n            \"Bear-Token\": UserToken,\n          },\n        };\n        $.ajax(settings).done(function(response) {\n          response = JSON.parse(response);\n          if (response.status == 200) {\n            __this.$refs.noteTitle.innerHTML = \"Your Blog Have Been Edited\";\n            __this.$router.replace({ name: \"blog\" });\n          } else {\n            __this.$refs.noteTitle.innerHTML = response.message;\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.edit-blog-wrapper {\n  margin: 50px 0 50px 0;\n}\n.reservation-title {\n  font-family: Oleo Script Swash Caps;\n  text-align: center;\n  font-size: 500%;\n  margin: 0px 0px 50px 0px;\n}\n.reservation-note {\n  margin: 20px auto;\n  width: 100%;\n  border-radius: 20px;\n  background-color: #ededed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.reservation-note > * {\n  width: 100%;\n}\n\n.note-title {\n  font-family: Oleo Script Swash Caps;\n  text-align: center;\n  font-size: 200%;\n  margin: 20px 0 20px 0;\n}\n\n.form-wrapper {\n  width: 50%;\n  margin: auto;\n}\n\n@media screen and (max-width: 1700px) {\n  .form-wrapper {\n    width: 60%;\n  }\n}\n\n@media screen and (max-width: 1400px) {\n  .form-wrapper {\n    width: 70%;\n  }\n}\n\n@media screen and (max-width: 1000px) {\n  .form-wrapper {\n    width: 80%;\n  }\n}\n\n@media screen and (max-width: 700px) {\n  .form-wrapper {\n    width: 90%;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages"}]}
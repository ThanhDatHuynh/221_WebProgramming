{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\EditAccountPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\EditAccountPage.vue","mtime":1655550438737},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9Xb3Jrc3BhY2UvV2ViLzIyMV9XZWJfUHJvZ3JhbW1pbmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9Xb3Jrc3BhY2UvV2ViLzIyMV9XZWJfUHJvZ3JhbW1pbmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNpZGVCYXIgZnJvbSAiLi4vY29tcG9uZW50cy9TaWRlQmFyLnZ1ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwppbXBvcnQgJCBmcm9tICJqcXVlcnkiOwppbXBvcnQgUmVzZXJ2YXRpb25Ob3RlIGZyb20gIi4uL2NvbXBvbmVudHMvUmVzZXJ2YXRpb25Ob3RlLnZ1ZSI7CmltcG9ydCBNb2RhbENvbmZpcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Nb2RhbENvbmZpcm0udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0QWNjb3VudFBhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIFNpZGVCYXI6IFNpZGVCYXIsCiAgICBSZXNlcnZhdGlvbk5vdGU6IFJlc2VydmF0aW9uTm90ZSwKICAgIE1vZGFsQ29uZmlybTogTW9kYWxDb25maXJtCiAgfSwKICBwcm9wczoge30sCgogIC8qKg0KICAgKiBEYXRhDQogICAqLwogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1N1Y2Nlc3M6IGZhbHNlLAogICAgICBub3RlczogewogICAgICAgICJOZXcgVXNlcm5hbWUiOiAiIiwKICAgICAgICAiTmV3IEVtYWlsIjogIiIsCiAgICAgICAgIk5ldyBQaG9uZSBOdW1iZXIiOiAiIgogICAgICB9LAogICAgICBpc0xvZ291dE1vZGFsT3BlbjogZmFsc2UsCiAgICAgIGlzRWRpdFByb2ZpbGVNb2RhbE9wZW46IGZhbHNlLAogICAgICBpc0VkaXRQYXNzd29yZE1vZGFsT3BlbjogZmFsc2UsCiAgICAgIGZvcm1UeXBlOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICIiCiAgICAgIH0sCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgLy8gVnVlIE9iamVjdCBEYXRhIHdpbGwgYmUgY29udmVydCBpbnRvIE9ic2VydmVyCiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwaG9uZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgICBjb25maXJtTmV3UGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yTWVzc2FnZXM6IHsKICAgICAgICAvLyBWdWUgT2JqZWN0IERhdGEgd2lsbCBiZSBjb252ZXJ0IGludG8gT2JzZXJ2ZXIKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBob25lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmV3UGFzc3dvcmQ6ICIiLAogICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgc2NoZW1hOiB5dXAub2JqZWN0KCkuc2hhcGUoewogICAgICAgIHVzZXJuYW1lOiB5dXAuc3RyaW5nKCkubWluKDEsICJQbGVhc2UgdHlwZSB5b3VyIHVzZXJuYW1lISIpLmxhYmVsKCJVc2VybmFtZSIpLAogICAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkubWluKDUpLmxhYmVsKCJQYXNzd29yZCIpLAogICAgICAgIG5ld1Bhc3N3b3JkOiB5dXAuc3RyaW5nKCkubWluKDUpLmxhYmVsKCJQYXNzd29yZCIpLAogICAgICAgIC8vIGNvbmZpcm1OZXdQYXNzd29yZDogeXVwLnN0cmluZygpLm9uZU9mKAogICAgICAgIC8vICAgW3l1cC5yZWYoIm5ld1Bhc3N3b3JkIildLAogICAgICAgIC8vICAgIkJvdGggcGFzc3dvcmQgbmVlZCB0byBiZSB0aGUgc2FtZSIKICAgICAgICAvLyApLAogICAgICAgIGVtYWlsOiB5dXAuc3RyaW5nKCkubWluKDEsICJQbGVhc2UgdHlwZSB5b3VyIGVtYWlsISIpLmVtYWlsKCkubGFiZWwoIkVtYWlsIikKICAgICAgfSkKICAgIH07CiAgfSwKCiAgLyoqDQogICAqIE1ldGhvZHMNCiAgICovCiAgbWV0aG9kczogewogICAgaGFuZGxlSW5wdXRWYWxpZGF0aW9uOiBmdW5jdGlvbiBoYW5kbGVJbnB1dFZhbGlkYXRpb24oX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbmFtZSwgdmFsdWUsIHZhbGlkYXRpb25SZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYubmFtZSwgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2NoZW1hLnZhbGlkYXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdmFsdWUpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZXNbbmFtZV0gPSB2YWxpZGF0aW9uUmVzdWx0LmVycm9yc1swXTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlc1tuYW1lXSA9ICIiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRm9ybUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlRm9ybUNoYW5nZShuZXdEYXRhKSB7CiAgICAgIHRoaXMuZm9ybURhdGFbbmV3RGF0YS5uYW1lXSA9IG5ld0RhdGEudmFsdWU7CiAgICAgIHRoaXMuaGFuZGxlSW5wdXRWYWxpZGF0aW9uKG5ld0RhdGEpOwogICAgfSwKICAgIHRvZ2dsZU1vZGFsT3BlbjogZnVuY3Rpb24gdG9nZ2xlTW9kYWxPcGVuKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICJsb2dvdXQiKSB7CiAgICAgICAgdGhpcy5pc0xvZ291dE1vZGFsT3BlbiA9ICF0aGlzLmlzTG9nb3V0TW9kYWxPcGVuOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJwcm9maWxlIikgewogICAgICAgIHRoaXMuaXNFZGl0UHJvZmlsZU1vZGFsT3BlbiA9ICF0aGlzLmlzRWRpdFByb2ZpbGVNb2RhbE9wZW47CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIHRoaXMuaXNFZGl0UGFzc3dvcmRNb2RhbE9wZW4gPSAhdGhpcy5pc0VkaXRQYXNzd29yZE1vZGFsT3BlbjsKICAgICAgfQogICAgfSwKICAgIGVkaXROb3RlczogZnVuY3Rpb24gZWRpdE5vdGVzKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgIHZhciBlbWFpbCA9IHJlc3BvbnNlLmVtYWlsLAogICAgICAgICAgICB1c2VybmFtZSA9IHJlc3BvbnNlLnVzZXJuYW1lLAogICAgICAgICAgICBwaG9uZU51bWJlciA9IHJlc3BvbnNlLnBob25lTnVtYmVyOwogICAgICAgIHRoaXMubm90ZXNbIk5ldyBVc2VybmFtZSJdID0gdXNlcm5hbWU7CiAgICAgICAgdGhpcy5ub3Rlc1siTmV3IEVtYWlsIl0gPSBlbWFpbDsKICAgICAgICB0aGlzLm5vdGVzWyJOZXcgUGhvbmUgTnVtYmVyIl0gPSBwaG9uZU51bWJlcjsKICAgICAgICB0aGlzLmlzU3VjY2VzcyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVsb2FkUGFnZTogZnVuY3Rpb24gcmVsb2FkUGFnZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKCIvIik7CiAgICB9LAogICAgbG9nb3V0VXNlcjogZnVuY3Rpb24gbG9nb3V0VXNlcigpIHsKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKSAhPT0gIiIpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiVXNlclRva2VuIik7CiAgICAgIH0KCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpICE9PSAiIikgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJVc2VyIik7CiAgICAgIH0KCiAgICAgIHRoaXMucmVsb2FkUGFnZSgpOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfX3RoaXMsIGZvcm1EYXRhLCBVc2VyVG9rZW4sIFVzZXJJbmZvLCB1c2VybmFtZU9LLCBwaG9uZU51bWJlck9LLCBlbWFpbE9LLCBzZXR0aW5ncywgcGFzc3dvcmRPSywgbmV3UGFzc3dvcmRPSywgX3NldHRpbmdzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX190aGlzID0gX3RoaXMyOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMi5mb3JtRGF0YSkpOwogICAgICAgICAgICAgICAgVXNlclRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUb2tlbiIpOwoKICAgICAgICAgICAgICAgIGlmICghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKSA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYWxlcnQoIlBsZWFzZSBsb2dpbiBiZWZvcmUgdG8gZWRpdCB5b3VyIGFjY291bnQgaW5mbyIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAgICAgKiBHZXQgTG9jYWxTdG9yYWdlIFVzZXJJbmZvIGZpbGwgaW4gdW5jaGFuZ2VkIGZpZWxkDQogICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICBVc2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSk7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLiRyb3V0ZS5uYW1lID09PSAiZWRpdEFjY291bnRQcm9maWxlIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgICAgICogSGFuZGxlIEVkaXQgUHJvZmlsZQ0KICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgX3RoaXMyLnRvZ2dsZU1vZGFsT3BlbigicHJvZmlsZSIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUlucHV0VmFsaWRhdGlvbih7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJ1c2VybmFtZSIsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfX3RoaXMuZm9ybURhdGEudXNlcm5hbWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgdXNlcm5hbWVPSyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlSW5wdXRWYWxpZGF0aW9uKHsKICAgICAgICAgICAgICAgICAgbmFtZTogInBob25lTnVtYmVyIiwKICAgICAgICAgICAgICAgICAgdmFsdWU6IF9fdGhpcy5mb3JtRGF0YS5waG9uZU51bWJlcgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBwaG9uZU51bWJlck9LID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVJbnB1dFZhbGlkYXRpb24oewogICAgICAgICAgICAgICAgICBuYW1lOiAiZW1haWwiLAogICAgICAgICAgICAgICAgICB2YWx1ZTogX190aGlzLmZvcm1EYXRhLmVtYWlsCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGVtYWlsT0sgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoISghdXNlcm5hbWVPSyB8fCAhcGhvbmVOdW1iZXJPSyB8fCAhZW1haWxPSykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgc2V0dGluZ3MgPSB7CiAgICAgICAgICAgICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9hdXRoL3VwZGF0ZV9wcm9maWxlIiksCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGZvcm1EYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBmb3JtRGF0YS5waG9uZSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogZm9ybURhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiBVc2VySW5mby5hdmF0YXIsCiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBVc2VySW5mby51c2VySWQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJCZWFyLVRva2VuIjogVXNlclRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAkLmFqYXgoc2V0dGluZ3MpLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHJlc3BvbnNlKSkpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9ICJZb3VyIFByb2ZpbGUgSGFzIEJlZW4gVXBkYXRlZCEgUGxlYXNlIFJlY2hlY2sgQmVmb3JlIExlYXZpbmciOwoKICAgICAgICAgICAgICAgICAgICBfX3RoaXMuZWRpdE5vdGVzKHJlc3BvbnNlLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfX3RoaXMuJHJlZnMubm90ZVRpdGxlLmlubmVySFRNTCA9IHJlc3BvbnNlLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgX190aGlzLmlzU3VjY2VzcyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIF9fdGhpcy5lZGl0Tm90ZXMobnVsbCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLiRyb3V0ZS5uYW1lID09PSAiZWRpdEFjY291bnRQYXNzd29yZCIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICAgICAqIEhhbmRsZSBFZGl0IFBhc3N3b3JkDQogICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICBfdGhpczIudG9nZ2xlTW9kYWxPcGVuKCJwYXNzd29yZCIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUlucHV0VmFsaWRhdGlvbih7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJwYXNzd29yZCIsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfX3RoaXMuZm9ybURhdGEucGFzc3dvcmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgcGFzc3dvcmRPSyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlSW5wdXRWYWxpZGF0aW9uKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIm5ld1Bhc3N3b3JkIiwKICAgICAgICAgICAgICAgICAgdmFsdWU6IF9fdGhpcy5mb3JtRGF0YS5uZXdQYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBuZXdQYXNzd29yZE9LID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX190aGlzLmZvcm1EYXRhLm5ld1Bhc3N3b3JkICE9IF9fdGhpcy5mb3JtRGF0YS5jb25maXJtTmV3UGFzc3dvcmQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvck1lc3NhZ2VzLmNvbmZpcm1OZXdQYXNzd29yZCA9ICJQYXNzd29yZCBpcyBub3QgbWF0Y2ghIjsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICAgICAgaWYgKCEoIXBhc3N3b3JkT0sgfHwgIW5ld1Bhc3N3b3JkT0spKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF9zZXR0aW5ncyA9IHsKICAgICAgICAgICAgICAgICAgdXJsOiAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMLCAiL2F1dGgvdXBkYXRlX3Bhc3N3b3JkIiksCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgb2xkX3Bhc3N3b3JkOiBmb3JtRGF0YS5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICBuZXdfcGFzc3dvcmQ6IGZvcm1EYXRhLm5ld1Bhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgIHZlcmlmeV9wYXNzd29yZDogZm9ybURhdGEuY29uZmlybU5ld1Bhc3N3b3JkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQmVhci1Ub2tlbiI6IFVzZXJUb2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgJC5hamF4KF9zZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UocmVzcG9uc2UpKSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX190aGlzLiRyZWZzLm5vdGVUaXRsZS5pbm5lckhUTUwgPSAiWW91ciBQYXNzd29yZCBIYXMgQmVlbiBVcGRhdGVkISBQbGVhc2UgUmVjaGVjayBCZWZvcmUgTGVhdmluZyI7CiAgICAgICAgICAgICAgICAgICAgX190aGlzLmlzU3VjY2VzcyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIF9fdGhpcy5sb2dvdXRVc2VyKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy9fX3RoaXMuZWRpdE5vdGVzKHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIF9fdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF9fdGhpcy4kcmVmcy5ub3RlVGl0bGUuaW5uZXJIVE1MID0gcmVzcG9uc2UubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAoKICAvKioNCiAgICogTGlmZWN5Y2xlIEhvb2tzDQogICAqLwogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09PSAiZWRpdEFjY291bnQiKSB7CiAgICAgIHRoaXMuJHJvdXRlci5oaXN0b3J5LnB1c2goewogICAgICAgIG5hbWU6ICJlZGl0QWNjb3VudFByb2ZpbGUiCiAgICAgIH0pOwogICAgfQoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpICE9ICIiKSB7CiAgICAgIHZhciBVc2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXIiKSk7CiAgICAgIHRoaXMuZm9ybURhdGEudXNlcm5hbWUgPSBVc2VySW5mb1sidXNlcm5hbWUiXTsKICAgICAgdGhpcy5mb3JtRGF0YS5lbWFpbCA9IFVzZXJJbmZvWyJlbWFpbCJdOwogICAgICB0aGlzLmZvcm1EYXRhLnBob25lID0gVXNlckluZm9bInBob25lTnVtYmVyIl07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["EditAccountPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"edit-account-page-wrapper\">\r\n    <ModalConfirm\r\n      @toggleModalEvent=\"toggleModalOpen('logout')\"\r\n      :isOpen=\"this.isLogoutModalOpen\"\r\n      :title=\"'Logout Confirm'\"\r\n      :content=\"'You are about to logout ?'\"\r\n      @callbackEvent=\"logoutUser\"\r\n    />\r\n    <ModalConfirm\r\n      @toggleModalEvent=\"toggleModalOpen('profile')\"\r\n      :isOpen=\"this.isEditProfileModalOpen\"\r\n      :title=\"'Edit Profile Confirm'\"\r\n      :content=\"'You are about to edit your profile'\"\r\n      @callbackEvent=\"handleSubmit\"\r\n    />\r\n    <ModalConfirm\r\n      @toggleModalEvent=\"toggleModalOpen('password')\"\r\n      :isOpen=\"this.isEditPasswordModalOpen\"\r\n      :title=\"'Edit Password Confirm'\"\r\n      :content=\"'You are about to edit your password, please relogin if success'\"\r\n      @callbackEvent=\"handleSubmit\"\r\n    />\r\n    <SideBar @logoutEvent=\"toggleModalOpen('logout')\" />\r\n    <div class=\"update-form-wrapper\">\r\n      <div style=\"width: 80%; margin: auto\">\r\n        <router-view\r\n          :key=\"$route.path\"\r\n          :data=\"formData\"\r\n          @onFormChange=\"handleFormChange\"\r\n          @onSubmit=\"\r\n            $route.name === 'editAccountProfile'\r\n              ? toggleModalOpen('profile')\r\n              : toggleModalOpen('password')\r\n          \"\r\n          :errorMessages=\"errorMessages\"\r\n        />\r\n        <div v-show=\"isSuccess\" class=\"reservation-note\" ref=\"note\">\r\n          <div ref=\"noteTitle\" class=\"note-title\"></div>\r\n          <ReservationNote :notes=\"this.notes\" :isSuccess=\"isSuccess\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SideBar from \"../components/SideBar.vue\";\r\nimport * as yup from \"yup\";\r\nimport $ from \"jquery\";\r\nimport ReservationNote from \"../components/ReservationNote.vue\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\n\r\nexport default {\r\n  name: \"EditAccountPage\",\r\n  components: { SideBar, ReservationNote, ModalConfirm },\r\n  props: {},\r\n\r\n  /**\r\n   * Data\r\n   */\r\n  data() {\r\n    return {\r\n      isSuccess: false,\r\n      notes: {\r\n        \"New Username\": \"\",\r\n        \"New Email\": \"\",\r\n        \"New Phone Number\": \"\",\r\n      },\r\n      isLogoutModalOpen: false,\r\n      isEditProfileModalOpen: false,\r\n      isEditPasswordModalOpen: false,\r\n      formType: {\r\n        type: String,\r\n        default: \"\",\r\n      },\r\n      formData: {\r\n        // Vue Object Data will be convert into Observer\r\n        username: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n        newPassword: \"\",\r\n        confirmNewPassword: \"\",\r\n      },\r\n      errorMessages: {\r\n        // Vue Object Data will be convert into Observer\r\n        username: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n        newPassword: \"\",\r\n        confirmNewPassword: \"\",\r\n      },\r\n      schema: yup.object().shape({\r\n        username: yup.string().min(1, \"Please type your username!\").label(\"Username\"),\r\n        password: yup.string().min(5).label(\"Password\"),\r\n        newPassword: yup.string().min(5).label(\"Password\"),\r\n        // confirmNewPassword: yup.string().oneOf(\r\n        //   [yup.ref(\"newPassword\")],\r\n        //   \"Both password need to be the same\"\r\n        // ),\r\n        email: yup.string().min(1, \"Please type your email!\").email().label(\"Email\"),\r\n      }),\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Methods\r\n   */\r\n  methods: {\r\n    async handleInputValidation({ name, value }) {\r\n      let validationResult = await this.schema\r\n        .validate({ [name]: value })\r\n        .catch((error) => {\r\n          return error;\r\n        });\r\n      if (validationResult.errors) {\r\n        this.errorMessages[name] = validationResult.errors[0];\r\n        return false;\r\n      } else {\r\n        this.errorMessages[name] = \"\";\r\n        return true;\r\n      }\r\n    },\r\n\r\n    handleFormChange(newData) {\r\n      this.formData[newData.name] = newData.value;\r\n      this.handleInputValidation(newData);\r\n    },\r\n\r\n    toggleModalOpen(type) {\r\n      if (type === \"logout\") {\r\n        this.isLogoutModalOpen = !this.isLogoutModalOpen;\r\n      } else if (type === \"profile\") {\r\n        this.isEditProfileModalOpen = !this.isEditProfileModalOpen;\r\n      } else if (type === \"password\") {\r\n        this.isEditPasswordModalOpen = !this.isEditPasswordModalOpen;\r\n      }\r\n    },\r\n\r\n    editNotes(response) {\r\n      if (response) {\r\n        const { email, username, phoneNumber } = response;\r\n        this.notes[\"New Username\"] = username;\r\n        this.notes[\"New Email\"] = email;\r\n        this.notes[\"New Phone Number\"] = phoneNumber;\r\n        this.isSuccess = true;\r\n      } else {\r\n        this.isSuccess = true;\r\n      }\r\n    },\r\n\r\n    reloadPage() {\r\n      this.$router.push(\"/\");\r\n      this.$router.go(\"/\");\r\n    },\r\n\r\n    logoutUser() {\r\n      if (localStorage.getItem(\"UserToken\") !== \"\") {\r\n        localStorage.removeItem(\"UserToken\");\r\n      }\r\n      if (localStorage.getItem(\"User\") !== \"\") {\r\n        localStorage.removeItem(\"User\");\r\n      }\r\n      this.reloadPage();\r\n    },\r\n\r\n    async handleSubmit() {\r\n      var __this = this;\r\n      const formData = JSON.parse(JSON.stringify(this.formData));\r\n\r\n      const UserToken = localStorage.getItem(\"UserToken\");\r\n      if (localStorage.getItem(\"UserToken\") === \"\") {\r\n        alert(\"Please login before to edit your account info\");\r\n        return;\r\n      }\r\n      /**\r\n       * Get LocalStorage UserInfo fill in unchanged field\r\n       */\r\n      const UserInfo = JSON.parse(localStorage.getItem(\"User\"));\r\n\r\n      if (this.$route.name === \"editAccountProfile\") {\r\n        /**\r\n         * Handle Edit Profile\r\n         */\r\n\r\n        this.toggleModalOpen(\"profile\");\r\n        let usernameOK = await this.handleInputValidation({name: \"username\", value: __this.formData.username});\r\n        let phoneNumberOK = await this.handleInputValidation({name: \"phoneNumber\", value: __this.formData.phoneNumber});\r\n        let emailOK = await this.handleInputValidation({name: \"email\", value: __this.formData.email});\r\n        if (!usernameOK || ! phoneNumberOK || !emailOK) return;\r\n        let settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/auth/update_profile`,\r\n          method: \"post\",\r\n          timeout: 0,\r\n          data: {\r\n            username: formData.username,\r\n            phoneNumber: formData.phone,\r\n            email: formData.email,\r\n            avatar: UserInfo.avatar,\r\n            userId: UserInfo.userId,\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": UserToken,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function (response) {\r\n          response = JSON.parse(JSON.stringify(JSON.parse(response)));\r\n          if (response.status == 200) {\r\n            __this.$refs.noteTitle.innerHTML =\r\n              \"Your Profile Has Been Updated! Please Recheck Before Leaving\";\r\n            __this.editNotes(response.response);\r\n          } else {\r\n            __this.$refs.noteTitle.innerHTML = response.message;\r\n            __this.isSuccess = true;\r\n            __this.editNotes(null);\r\n          }\r\n        });\r\n      } else if (this.$route.name === \"editAccountPassword\") {\r\n        /**\r\n         * Handle Edit Password\r\n         */\r\n        this.toggleModalOpen(\"password\");\r\n        let passwordOK = await this.handleInputValidation({name: \"password\", value: __this.formData.password});\r\n        let newPasswordOK = await this.handleInputValidation({name: \"newPassword\", value: __this.formData.newPassword});\r\n        if (__this.formData.newPassword != __this.formData.confirmNewPassword) {\r\n          this.errorMessages.confirmNewPassword = \"Password is not match!\";\r\n          this.$forceUpdate();\r\n          return;\r\n        }\r\n        if (!passwordOK || !newPasswordOK) return;\r\n        let settings = {\r\n          url: `${process.env.VUE_APP_API_URL}/auth/update_password`,\r\n          method: \"post\",\r\n          timeout: 0,\r\n          data: {\r\n            old_password: formData.password,\r\n            new_password: formData.newPassword,\r\n            verify_password: formData.confirmNewPassword,\r\n          },\r\n          headers: {\r\n            \"Bear-Token\": UserToken,\r\n          },\r\n        };\r\n        $.ajax(settings).done(function (response) {\r\n          response = JSON.parse(JSON.stringify(JSON.parse(response)));\r\n          console.log(response)\r\n          if (response.status == 200) {\r\n            __this.$refs.noteTitle.innerHTML =\r\n              \"Your Password Has Been Updated! Please Recheck Before Leaving\";\r\n              __this.isSuccess = true;\r\n            __this.logoutUser();\r\n          } else {\r\n            //__this.editNotes(response.message);\r\n            __this.isSuccess = true;\r\n            __this.$refs.noteTitle.innerHTML = response.message;\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Lifecycle Hooks\r\n   */\r\n  beforeMount() {\r\n    if (this.$route.name === \"editAccount\") {\r\n      this.$router.history.push({ name: \"editAccountProfile\" });\r\n    }\r\n\r\n    if (localStorage.getItem(\"User\") != \"\") {\r\n      const UserInfo = JSON.parse(localStorage.getItem(\"User\"));\r\n      this.formData.username = UserInfo[\"username\"];\r\n      this.formData.email = UserInfo[\"email\"];\r\n      this.formData.phone = UserInfo[\"phoneNumber\"];\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-account-page-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n}\r\n\r\n.edit-options-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  width: 30%;\r\n}\r\n\r\n.update-form-wrapper {\r\n  margin: 100px 0 100px 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  width: 60%;\r\n}\r\n\r\n.option-item {\r\n  margin: 20px 0 20px 0;\r\n  background: rgba(225, 101, 31, 0.25);\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.reservation-note {\r\n  margin: 20px auto;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  background-color: #ededed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.reservation-note > * {\r\n  width: 100%;\r\n}\r\n\r\n.note-title {\r\n  font-family: Roboto, 'san-serif';\r\n  text-align: center;\r\n  font-size: 200%;\r\n  margin: 20px 0 20px 0;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n  .update-form-wrapper {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}
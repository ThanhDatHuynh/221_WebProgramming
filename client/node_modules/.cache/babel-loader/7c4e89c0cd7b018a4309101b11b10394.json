{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\CartPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\CartPage.vue","mtime":1655541372413},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1655541734276},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1dvcmtzcGFjZS9XZWIvMjIxX1dlYl9Qcm9ncmFtbWluZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCdXR0b24gZnJvbSAiLi4vY29tcG9uZW50cy9CdXR0b24iOwppbXBvcnQgJCBmcm9tICJqcXVlcnkiOyAvLyBpbXBvcnQgRGlzaCBmcm9tICIuLi9jb21wb25lbnRzL0Rpc2gudnVlIjsKLy8gaW1wb3J0IEJ1dHRvbiBmcm9tICIuLi9jb21wb25lbnRzL0J1dHRvbi52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNZW51RGV0YWlsUGFnZSIsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9tZW51IiksCiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICB0aW1lb3V0OiAwCiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgYSA9IEpTT04ucGFyc2UocmVzcG9uc2UpLnJlc3BvbnNlOwogICAgICAgIF9fdGhpcy5kYXRhID0gYS5maWx0ZXIoZnVuY3Rpb24gKGZvb2QpIHsKICAgICAgICAgIHJldHVybiBfX3RoaXMuY2FydFtmb29kLmlkXSAmJiBfX3RoaXMuY2FydFtmb29kLmlkXSA+IDA7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBfX3RoaXMubG9jYWxDYXJ0ID0gX190aGlzLmNhcnQ7CiAgICB9LAogICAgZGVjckZvb2RRdWFudGl0eTogZnVuY3Rpb24gZGVjckZvb2RRdWFudGl0eShrZXkpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjdXJyZW50Q2FydCA9IHRoaXMuY2FydDsKCiAgICAgIGlmIChjdXJyZW50Q2FydFtrZXldID4gMCkgewogICAgICAgIC0tY3VycmVudENhcnRba2V5XTsKCiAgICAgICAgaWYgKGN1cnJlbnRDYXJ0W2tleV0gPT0gMCkgewogICAgICAgICAgZGVsZXRlIGN1cnJlbnRDYXJ0W2tleV07CiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChmb29kKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYXJ0W2Zvb2QuaWRdICYmIF90aGlzLmNhcnRbZm9vZC5pZF0gPiAwOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnVwZGF0ZUNhcnQoY3VycmVudENhcnQpOwogICAgICB9CgogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfSwKICAgIGluY3JGb29kUXVhbnRpdHk6IGZ1bmN0aW9uIGluY3JGb29kUXVhbnRpdHkoa2V5KSB7CiAgICAgIHZhciBjdXJyZW50Q2FydCA9IHRoaXMuY2FydDsKICAgICAgKytjdXJyZW50Q2FydFtrZXldOwogICAgICB0aGlzLnVwZGF0ZUNhcnQoY3VycmVudENhcnQpOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfSwKICAgIG9uQ2xvc2VNb2RhbDogZnVuY3Rpb24gb25DbG9zZU1vZGFsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRDYXJ0LCBlbnRyeTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLnJlc2V0Q2FydCgpOyAvLyBGbHVzaAogICAgICAgICAgICAgICAgX3RoaXMyLiR2bTIuY2xvc2UoJ21vZGFsLTInKTsKCiAgICAgICAgICAgICAgICBjdXJyZW50Q2FydCA9IF90aGlzMi5jYXJ0OwoKICAgICAgICAgICAgICAgIGZvciAoZW50cnkgaW4gY3VycmVudENhcnQpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRDYXJ0W2VudHJ5XTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlQ2FydChjdXJyZW50Q2FydCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiL21lbnUiKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgaW5qZWN0OiBbJ2NhcnQnLCAndXBkYXRlQ2FydCcsICdyZXNldENhcnQnXSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9Cn07"},{"version":3,"sources":["CartPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,OAAA,MAAA,MAAA,sBAAA;AAEA,OAAA,CAAA,MAAA,QAAA,C,CACA;AACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,UADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAKA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,SAFA,CAAA;AAGA,OANA;AAOA,MAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,4BAiBA,GAjBA,EAiBA;AAAA;;AACA,UAAA,WAAA,GAAA,KAAA,IAAA;;AACA,UAAA,WAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,WAAA,CAAA,GAAA,CAAA;;AACA,YAAA,WAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,iBAAA,WAAA,CAAA,GAAA,CAAA;AACA,eAAA,IAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,WAFA,CAAA;AAGA;;AACA,aAAA,UAAA,CAAA,WAAA;AACA;;AACA,WAAA,YAAA;AACA,KA9BA;AA+BA,IAAA,gBA/BA,4BA+BA,GA/BA,EA+BA;AACA,UAAA,WAAA,GAAA,KAAA,IAAA;AACA,QAAA,WAAA,CAAA,GAAA,CAAA;AACA,WAAA,UAAA,CAAA,WAAA;AACA,WAAA,YAAA;AACA,KApCA;AAqCA,IAAA,YArCA,0BAqCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA;;AACA,gBAAA,WAHA,GAGA,MAAA,CAAA,IAHA;;AAIA,qBAAA,KAAA,IAAA,WAAA;AAAA,yBAAA,WAAA,CAAA,KAAA,CAAA;AAAA;;AACA,gBAAA,MAAA,CAAA,UAAA,CAAA,WAAA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA5CA,GAVA;AAwDA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,WAAA,CAxDA;AAyDA,EAAA,WAzDA,yBAyDA;AACA,SAAA,OAAA;AACA;AA3DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\" style=\"min-height:60vh\">\r\n        <div class=\"title-wrapper\">\r\n            <div class=\"menu-title\">\r\n                <p>Your Cart</p>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"data.length > 0\">\r\n            <div>\r\n                <div v-for=\"food in this.data\" :key=\"food.id\" class=\"row align-items-center justify-center rounded\"\r\n                    :v-show=\"cart[food.id] && cart[food.id] >= 0\" style=\"background-color:#f2f2f2; margin:5px\">\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.name }}</div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\"><img :src=\"food.image\"\r\n                            style=\"max-width:100px; border-radius:5px\" /></div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        <button @click=\"() => decrFoodQuantity(food.id)\">\r\n                            <font-awesome-icon icon=\"fa-solid fa-circle-minus\" />\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        {{ cart[food.id] }}\r\n                    </div>\r\n                    <div class=\"col-1 text-center\" style=\"flex-wrap:wrap; align-self:center\">\r\n                        <button @click=\"() => incrFoodQuantity(food.id)\">\r\n                            <font-awesome-icon icon=\"fa-solid fa-circle-plus\" />\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center\">{{ food.price *\r\n                    cart[food.id]\r\n                    }} $</div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"row align-items-center justify-center rounded\" style=\"background-color:#f2f2f2; margin:5px\">\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">Total:\r\n                    </div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\"></div>\r\n                    <div class=\"col-3 text-center\" style=\"flex-wrap:wrap; align-self:center; font-weight:bold\">{{\r\n                    data.reduce((result,\r\n                    food) => result + (food.price * cart[food.id]), 0)\r\n                    }}$</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"btn-wrapper d-flex flex-wrap justify-center\">\r\n                <Button @onClick=\"$vm2.open('modal-2')\" text=\"Order\" width=\"148px\" height=\"53px\" />\r\n            </div>\r\n            <modal-vue @on-close=\"onCloseModal\" name=\"modal-2\" :headerOptions=\"{\r\n                title: 'Notification',\r\n            }\" noFooter>\r\n                <p class=\"text-center\">Order successfully!</p>\r\n            </modal-vue>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"title-wrapper\">\r\n                <div class=\"menu-title\">\r\n                    <p>Please choose some food!</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Button from \"../components/Button\";\r\n\r\nimport $ from \"jquery\";\r\n// import Dish from \"../components/Dish.vue\";\r\n// import Button from \"../components/Button.vue\";\r\nexport default {\r\n    name: \"MenuDetailPage\",\r\n    components: {\r\n        Button,\r\n    },\r\n    data() {\r\n        return {\r\n            data: {},\r\n        };\r\n    },\r\n    methods: {\r\n        getData() {\r\n            const __this = this;\r\n            var settings = {\r\n                url: `${process.env.VUE_APP_API_URL}/menu`,\r\n                method: \"GET\",\r\n                timeout: 0,\r\n            };\r\n            $.ajax(settings)\r\n                .done(function (response) {\r\n                    let a = JSON.parse(response).response;\r\n                    __this.data = a.filter((food) => {\r\n                        return __this.cart[food.id] && __this.cart[food.id] > 0;\r\n                    });\r\n                })\r\n            __this.localCart = __this.cart;\r\n        },\r\n        decrFoodQuantity(key) {\r\n            let currentCart = this.cart;\r\n            if (currentCart[key] > 0) {\r\n                --currentCart[key];\r\n                if (currentCart[key] == 0) {\r\n                    delete currentCart[key];\r\n                    this.data = this.data.filter((food) => {\r\n                        return this.cart[food.id] && this.cart[food.id] > 0;\r\n                    });\r\n                }\r\n                this.updateCart(currentCart);\r\n            }\r\n            this.$forceUpdate()\r\n        },\r\n        incrFoodQuantity(key) {\r\n            let currentCart = this.cart;\r\n            ++currentCart[key];\r\n            this.updateCart(currentCart);\r\n            this.$forceUpdate();\r\n        },\r\n        async onCloseModal() {\r\n            // await this.resetCart(); // Flush\r\n            this.$vm2.close('modal-2');\r\n            let currentCart = this.cart;\r\n            for (var entry in currentCart) delete currentCart[entry];\r\n            this.updateCart(currentCart);\r\n            this.$router.push(\"/menu\");\r\n        }\r\n    },\r\n    inject: ['cart', 'updateCart', 'resetCart'],\r\n    beforeMount() {\r\n        this.getData();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\r\n\r\nbutton {\r\n    transition: transform .1.5s;\r\n    /* Animation */\r\n}\r\n\r\nbutton:hover {\r\n    transform: scale(1.5);\r\n    /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */\r\n}\r\n\r\n.title-wrapper {\r\n    margin-bottom: 4%;\r\n}\r\n\r\n.menu-title {\r\n    font-family: Oleo Script Swash Caps;\r\n    text-align: center;\r\n    font-size: 500%;\r\n    margin: 2% 0% -1% 0%;\r\n}\r\n\r\n.menu-description {\r\n    font-family: 'Roboto', sans-serif;\r\n    /*font-family: 'Hahmlet';*/\r\n    text-align: center;\r\n    margin: 0% 8% -1% 8%;\r\n}\r\n\r\n.btn-wrapper {\r\n    margin: 25px 0 65px 0;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}
{"remainingRequest":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\AdminMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\src\\pages\\AdminMenu.vue","mtime":1655577101245},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1655541734276},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1655541733784},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655541733801},{"path":"D:\\Workspace\\Web\\221_Web_Programming\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655541769422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IEFkbWluSXRlbSBmcm9tICIuLi9jb21wb25lbnRzL0FkbWluSXRlbS52dWUiOwppbXBvcnQgTW9kYWxDb25maXJtIGZyb20gIi4uL2NvbXBvbmVudHMvTW9kYWxDb25maXJtLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRtaW5NZW51IiwKICBjb21wb25lbnRzOiB7CiAgICBBZG1pbkl0ZW06IEFkbWluSXRlbSwKICAgIE1vZGFsQ29uZmlybTogTW9kYWxDb25maXJtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNEZWxldGVNb2RhbE9wZW46IGZhbHNlLAogICAgICBpZERpc2g6IDAsCiAgICAgIGRpc2hlczogW10sCiAgICAgIHBhZ2U6IDEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbW9kZWxQYWdlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnBhZ2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5wYWdlID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIHJlbG9hZFBhZ2UoKSB7CiAgICAvLyAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIC8vICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hZG1pbi9tZW51Iik7CiAgICAvLyB9LAogICAgdG9nZ2xlQWRkQnRuOiBmdW5jdGlvbiB0b2dnbGVBZGRCdG4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiYWRtaW5Vc2VyIgogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVEZWxldGVCdG46IGZ1bmN0aW9uIHRvZ2dsZURlbGV0ZUJ0bihpZCkgewogICAgICB0aGlzLmlzRGVsZXRlTW9kYWxPcGVuID0gIXRoaXMuaXNEZWxldGVNb2RhbE9wZW47CiAgICAgIHRoaXMuaWREaXNoID0gaWQ7CiAgICB9LAogICAgZGVsZXRlRGlzaDogZnVuY3Rpb24gZGVsZXRlRGlzaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIHZhciBfX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc2V0dGluZ3MgPSB7CiAgICAgICAgdXJsOiAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMLCAiL2FkbWluL2RlbGV0ZV9kaXNoL3siKS5jb25jYXQodGhpcy5pZERpc2gsICJ9IiksCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdGltZW91dDogMCwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQmVhci1Ub2tlbiI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKQogICAgICAgIH0KICAgICAgfTsKICAgICAgJC5hamF4KHNldHRpbmdzKS5kb25lKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kcm91dGVyLmdvKF90aGlzLiRyb3V0ZXIuY3VycmVudCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldE1lbnU6IGZ1bmN0aW9uIGdldE1lbnUoKSB7CiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9tZW51IiksCiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICB0aW1lb3V0OiAwCiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgYSA9IEpTT04ucGFyc2UocmVzcG9uc2UpLnJlc3BvbnNlOwogICAgICAgIF9fdGhpcy5kaXNoZXMgPSBhOwogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuZ2V0TWVudSgpOwogIH0KfTs="},{"version":3,"sources":["AdminMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,OAAA,YAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,YAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,IAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,KAJA,EAIA;AACA,aAAA,IAAA,GAAA,KAAA;AACA;AANA;AADA,GAfA;AAyBA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA,IAAA,YALA,0BAKA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAPA;AASA,IAAA,eATA,2BASA,EATA,EASA;AACA,WAAA,iBAAA,GAAA,CAAA,KAAA,iBAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,KAZA;AAcA,IAAA,UAdA,wBAcA;AAAA;;AACA;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,iCAAA,KAAA,MAAA,MADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,OAAA,EAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AACA,wBAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AADA;AAJA,OAAA;AASA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,EAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA;AACA,OAFA;AAGA,KA5BA;AA8BA,IAAA,OA9BA,qBA8BA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,UADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAMA,MAAA,CAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA,OAHA;AAIA;AA1CA,GAzBA;AAqEA,EAAA,WArEA,yBAqEA;AACA,SAAA,OAAA;AACA;AAvEA,CAAA","sourcesContent":["<template>\r\n  <div style=\"min-height:65vh\" class=\"bg-5\">\r\n    <div class=\"d-flex flex-wrap justify-center\">\r\n      <AdminItem type=\"DishHeader\" :width=\"'95vw'\" :height=\"'100px'\" :imgSize=\"'70px'\"\r\n        :items=\"['ID', 'Name', 'Image', 'Description', 'Price']\" @onSubmit=\"toggleAddBtn\" to=\"/admin/user\" />\r\n    </div>\r\n    <div class=\"d-flex flex-wrap justify-center\">\r\n      <div v-for=\"dish in dishes.filter(\r\n        (_, index) => index >= (page - 1) * 5 && index <= page * 5 - 1\r\n      )\" :key=\"dish.id\">\r\n        <AdminItem type=\"Dish\" :width=\"'95vw'\" :height=\"'100px'\" :imgSize=\"'70px'\"\r\n          :items=\"[dish.id, dish.name, dish.image, dish.description, dish.price]\"\r\n          @onSubmit=\"toggleDeleteBtn(dish.id)\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"text-center\">\r\n      <v-pagination class=\"mt-4 mb-8\" v-model=\"modelPage\" color=\"#e1651f\" :length=\"\r\n        dishes.length % 5 === 0\r\n          ? Math.floor(dishes.length / 5)\r\n          : Math.floor(dishes.length / 5) + 1\r\n      \" circle></v-pagination>\r\n    </div>\r\n    <ModalConfirm @toggleModalEvent=\"toggleDeleteBtn()\" :isOpen=\"this.isDeleteModalOpen\" :title=\"'Are you sure ?'\"\r\n      :content=\"'Do you want to delete this dish ?'\" @callbackEvent=\"deleteDish\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nimport AdminItem from \"../components/AdminItem.vue\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\nexport default {\r\n  name: \"adminMenu\",\r\n  components: {\r\n    AdminItem,\r\n    ModalConfirm,\r\n  },\r\n  data() {\r\n    return {\r\n      isDeleteModalOpen: false,\r\n      idDish: 0,\r\n      dishes: [],\r\n      page: 1,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    modelPage: {\r\n      get() {\r\n        return this.page;\r\n      },\r\n      set(value) {\r\n        this.page = value;\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    // reloadPage() {\r\n    //   window.location.reload();\r\n    //   window.location.replace(\"http://localhost:8080/admin/menu\");\r\n    // },\r\n    toggleAddBtn() {\r\n      this.$router.push({ name: \"adminUser\" });\r\n    },\r\n\r\n    toggleDeleteBtn(id) {\r\n      this.isDeleteModalOpen = !this.isDeleteModalOpen;\r\n      this.idDish = id;\r\n    },\r\n\r\n    deleteDish() {\r\n      // var __this = this;\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/admin/delete_dish/{${this.idDish}}`,\r\n        method: \"POST\",\r\n        timeout: 0,\r\n        headers: {\r\n          \"Bear-Token\": localStorage.getItem(\"UserToken\"),\r\n        },\r\n      };\r\n\r\n      $.ajax(settings).done(() => {\r\n        this.$router.go(this.$router.current);\r\n      });\r\n    },\r\n\r\n    getMenu() {\r\n      const __this = this;\r\n      var settings = {\r\n        url: `${process.env.VUE_APP_API_URL}/menu`,\r\n        method: \"GET\",\r\n        timeout: 0,\r\n      };\r\n\r\n      $.ajax(settings).done(function (response) {\r\n        const a = JSON.parse(response).response;\r\n        __this.dishes = a;\r\n      });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.getMenu();\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/pages"}]}
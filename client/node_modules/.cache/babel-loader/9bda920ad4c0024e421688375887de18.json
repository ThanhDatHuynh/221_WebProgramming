{"remainingRequest":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/BlogDetailPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/src/pages/BlogDetailPage.vue","mtime":1655262181857},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/babel-loader/lib/index.js","mtime":1654787234061},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/cache-loader/dist/cjs.js","mtime":1654787234194},{"path":"/home/dathuynh/Workspace/221_Web_Programming/client/node_modules/vue-loader/lib/index.js","mtime":1654787310467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvbW1lbnQgZnJvbSAiLi4vY29tcG9uZW50cy9Db21tZW50LnZ1ZSI7CmltcG9ydCBQYXJhZ3JhcGggZnJvbSAiLi4vY29tcG9uZW50cy9QYXJhZ3JhcGgudnVlIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IENvbW1lbnRMaXN0SXRlbSBmcm9tICIuLi9jb21wb25lbnRzL0NvbW1lbnRMaXN0SXRlbS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGFyYWdyYXBoOiBQYXJhZ3JhcGgsCiAgICBDb21tZW50OiBDb21tZW50LAogICAgQ29tbWVudExpc3RJdGVtOiBDb21tZW50TGlzdEl0ZW0KICB9LAogIG5hbWU6ICJibG9nRGV0YWlsIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIG1hbmFnZXJWYWx1ZSA9ICIwIjsKICAgIHZhciB1c2VyVmFsdWUgPSBudWxsOwoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpICE9IG51bGwpIHsKICAgICAgbWFuYWdlclZhbHVlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVXNlciIpKS5tYW5hZ2VyOwogICAgICB1c2VyVmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyIikpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm1EYXRhOiB7Ly8gVnVlIE9iamVjdCBEYXRhIHdpbGwgYmUgY29udmVydCBpbnRvIE9ic2VydmVyCiAgICAgIH0sCiAgICAgIGl0ZW06IFtdLAogICAgICBjb21tZW50czogW10sCiAgICAgIG51bUJsb2c6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgbWFuYWdlcjogbWFuYWdlclZhbHVlLAogICAgICB1c2VyOiB1c2VyVmFsdWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWxvYWRQYWdlOiBmdW5jdGlvbiByZWxvYWRQYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Jsb2ciKTsKICAgIH0sCiAgICByb3V0ZVRvRWRpdEJsb2c6IGZ1bmN0aW9uIHJvdXRlVG9FZGl0QmxvZygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJhZG1pbkVkaXRCbG9nIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVBvc3Q6IGZ1bmN0aW9uIGRlbGV0ZVBvc3QoKSB7CiAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVG9rZW4iKTsKCiAgICAgIHZhciBfX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9hZG1pbi9kZWxldGVfYmxvZy97IikuY29uY2F0KHRoaXMubnVtQmxvZywgIn0iKSwKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgIGRhdGE6IHt9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJCZWFyLVRva2VuIjogdG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgICQuYWpheChzZXR0aW5ncykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX190aGlzLnJlbG9hZFBhZ2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgR2V0QmxvZ0RhdGE6IGZ1bmN0aW9uIEdldEJsb2dEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNldHRpbmdzID0gewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9ibG9nL3siKS5jb25jYXQodGhpcy5udW1CbG9nLCAifSIpLAogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdGltZW91dDogMCwKICAgICAgICBkYXRhOiB7fSwKICAgICAgICBoZWFkZXJzOiB7fQogICAgICB9OwogICAgICAkLmFqYXgoc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdmFyIGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKS5yZXNwb25zZTsKICAgICAgICBfdGhpcy5pdGVtID0gYTsKICAgICAgICBfdGhpcy5jb21tZW50cyA9IF90aGlzLml0ZW0uY29tbWVudHM7CiAgICAgIH0pOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgdGhpcy5HZXRCbG9nRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["BlogDetailPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"!isLoading\" id=\"blog-detail\">\n    <v-container>\n      <v-layout align-center justify-space-around style=\"flex-wrap:wrap\">\n        <h1 class=\"text-center mt-10\">{{ item.blog.title }}</h1>\n        <div style=\"width:100%;display:flex;justify-content:center; margin: 20px 0px 20px 0;\">\n          <v-btn v-show=\"manager == '1'\" @click=\"this.deletePost\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\n            <span class=\"linkText\">Delete</span>\n          </v-btn>\n          <div style=\"width:5%\"></div>\n          <v-btn v-show=\"manager == '1'\" @click=\"this.routeToEditBlog\" width=\"7vw\" height=\"2.5vw\" color=\"#e1651f\">\n            <span class=\"linkText\">Edit</span>\n          </v-btn>\n        </div>\n      </v-layout>\n      <v-layout align-center justify-center>\n        <v-img max-height=\"30vw\" max-width=\"70vw\" :src=\"item.blog.image\" style=\"border-radius:10px;\"></v-img>\n      </v-layout>\n    </v-container>\n\n    <div class=\"blogContent\">\n      <h3>WRITTEN ON {{ item.blog.date }}</h3>\n      <paragraph class=\"text-justify\" :content=\"item.blog.content\"></paragraph>\n    </div>\n\n    <div class=\"reply\">\n      <h2>Reply</h2>\n      <comment v-if=\"user !== null\" :id=\"item.blog.id\" />\n      <div v-for=\"comment in comments.slice().reverse()\" :key=\"comment.id\">\n        <comment-list-item :comment=\"comment\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Comment from \"../components/Comment.vue\";\nimport Paragraph from \"../components/Paragraph.vue\";\nimport $ from \"jquery\";\nimport CommentListItem from \"../components/CommentListItem.vue\";\nexport default {\n  components: { Paragraph, Comment, CommentListItem },\n  name: \"blogDetail\",\n  data() {\n    var managerValue = \"0\";\n    var userValue = null;\n    if (localStorage.getItem(\"User\") != null) {\n      managerValue = JSON.parse(localStorage.getItem(\"User\")).manager;\n      userValue = JSON.parse(localStorage.getItem(\"User\"));\n    }\n    return {\n      isLoading: false,\n      formData: {\n        // Vue Object Data will be convert into Observer\n      },\n      item: [],\n      comments: [],\n      numBlog: this.$route.params.id,\n      manager: managerValue,\n      user: userValue,\n    };\n  },\n\n  methods: {\n    reloadPage() {\n      this.$router.push(\"/blog\");\n    },\n\n    routeToEditBlog() {\n      this.$router.push({\n        name: \"adminEditBlog\",\n        params: { id: this.$route.params.id },\n      });\n    },\n\n    deletePost() {\n      const token = localStorage.getItem(\"UserToken\");\n      var __this = this;\n\n      var settings = {\n        url: `${process.env.VUE_APP_API_URL}/admin/delete_blog/{${this.numBlog}}`,\n        method: \"POST\",\n        timeout: 0,\n        data: {},\n        headers: {\n          \"Bear-Token\": token,\n        },\n      };\n\n      $.ajax(settings).then(() => {\n        __this.reloadPage();\n      });\n    },\n\n    GetBlogData() {\n      var settings = {\n        url: `${process.env.VUE_APP_API_URL}/blog/{${this.numBlog}}`,\n        method: \"GET\",\n        timeout: 0,\n        data: {},\n        headers: {},\n      };\n\n      $.ajax(settings).then((response) => {\n        this.isLoading = false;\n        const a = JSON.parse(response).response;\n        this.item = a;\n        this.comments = this.item.comments;\n      });\n    },\n  },\n  beforeMount() {\n    this.isLoading = true;\n    this.GetBlogData();\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Oleo+Script+Swash+Caps&display=swap\");\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\n.blogContent {\n  padding: 5vw;\n  font-family: \"Roboto\", \"sans-serif\"\n}\n\n.reply {\n  padding: 0vw 5vw 5vw 5vw;\n}\n\n.linkText {\n  color: white;\n  font-size: 1vw;\n}\n\n.title {\n  min-height: 70px;\n}\n</style>\n"],"sourceRoot":"src/pages"}]}